{"version":3,"file":"Option-d67cc030.js","sources":["../../../../../../../../node_modules/@material/dom/keyboard.js","../../../../../../../../node_modules/@material/menu-surface/constants.js","../../../../../../../../node_modules/@material/list/constants.js","../../../../../../../../node_modules/@material/list/events.js","../../../../../../../../node_modules/@material/list/typeahead.js","../../../../../../../../node_modules/@material/list/foundation.js","../../../../../../../../node_modules/@material/menu-surface/foundation.js","../../../../../../../../node_modules/@material/menu/constants.js","../../../../../../../../node_modules/@material/menu/foundation.js","../../../../../../../../node_modules/@material/select/constants.js","../../../../../../../../node_modules/@material/select/foundation.js","../../../../../../../../node_modules/@material/select/helper-text/constants.js","../../../../../../../../node_modules/@material/select/helper-text/foundation.js","../../../../../../../../node_modules/@smui/menu-surface/dist/MenuSurface.svelte","../../../../../../../../node_modules/@smui/menu-surface/dist/Anchor.js","../../../../../../../../node_modules/@smui/menu/dist/Menu.svelte","../../../../../../../../node_modules/@smui/list/dist/List.svelte","../../../../../../../../node_modules/@smui/list/dist/Item.svelte","../../../../../../../../node_modules/@smui/list/dist/Graphic.svelte","../../../../../../../../node_modules/@smui/menu/dist/SelectionGroupIcon.js","../../../../../../../../node_modules/@smui/select/dist/helper-text/HelperText.svelte","../../../../../../../../node_modules/@smui/select/dist/Select.svelte","../../../../../../../../node_modules/@smui/select/dist/Option.svelte"],"sourcesContent":["/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n/**\n * KEY provides normalized string values for keys.\n */\nexport var KEY = {\n    UNKNOWN: 'Unknown',\n    BACKSPACE: 'Backspace',\n    ENTER: 'Enter',\n    SPACEBAR: 'Spacebar',\n    PAGE_UP: 'PageUp',\n    PAGE_DOWN: 'PageDown',\n    END: 'End',\n    HOME: 'Home',\n    ARROW_LEFT: 'ArrowLeft',\n    ARROW_UP: 'ArrowUp',\n    ARROW_RIGHT: 'ArrowRight',\n    ARROW_DOWN: 'ArrowDown',\n    DELETE: 'Delete',\n    ESCAPE: 'Escape',\n    TAB: 'Tab',\n};\nvar normalizedKeys = new Set();\n// IE11 has no support for new Map with iterable so we need to initialize this\n// by hand.\nnormalizedKeys.add(KEY.BACKSPACE);\nnormalizedKeys.add(KEY.ENTER);\nnormalizedKeys.add(KEY.SPACEBAR);\nnormalizedKeys.add(KEY.PAGE_UP);\nnormalizedKeys.add(KEY.PAGE_DOWN);\nnormalizedKeys.add(KEY.END);\nnormalizedKeys.add(KEY.HOME);\nnormalizedKeys.add(KEY.ARROW_LEFT);\nnormalizedKeys.add(KEY.ARROW_UP);\nnormalizedKeys.add(KEY.ARROW_RIGHT);\nnormalizedKeys.add(KEY.ARROW_DOWN);\nnormalizedKeys.add(KEY.DELETE);\nnormalizedKeys.add(KEY.ESCAPE);\nnormalizedKeys.add(KEY.TAB);\nvar KEY_CODE = {\n    BACKSPACE: 8,\n    ENTER: 13,\n    SPACEBAR: 32,\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    END: 35,\n    HOME: 36,\n    ARROW_LEFT: 37,\n    ARROW_UP: 38,\n    ARROW_RIGHT: 39,\n    ARROW_DOWN: 40,\n    DELETE: 46,\n    ESCAPE: 27,\n    TAB: 9,\n};\nvar mappedKeyCodes = new Map();\n// IE11 has no support for new Map with iterable so we need to initialize this\n// by hand.\nmappedKeyCodes.set(KEY_CODE.BACKSPACE, KEY.BACKSPACE);\nmappedKeyCodes.set(KEY_CODE.ENTER, KEY.ENTER);\nmappedKeyCodes.set(KEY_CODE.SPACEBAR, KEY.SPACEBAR);\nmappedKeyCodes.set(KEY_CODE.PAGE_UP, KEY.PAGE_UP);\nmappedKeyCodes.set(KEY_CODE.PAGE_DOWN, KEY.PAGE_DOWN);\nmappedKeyCodes.set(KEY_CODE.END, KEY.END);\nmappedKeyCodes.set(KEY_CODE.HOME, KEY.HOME);\nmappedKeyCodes.set(KEY_CODE.ARROW_LEFT, KEY.ARROW_LEFT);\nmappedKeyCodes.set(KEY_CODE.ARROW_UP, KEY.ARROW_UP);\nmappedKeyCodes.set(KEY_CODE.ARROW_RIGHT, KEY.ARROW_RIGHT);\nmappedKeyCodes.set(KEY_CODE.ARROW_DOWN, KEY.ARROW_DOWN);\nmappedKeyCodes.set(KEY_CODE.DELETE, KEY.DELETE);\nmappedKeyCodes.set(KEY_CODE.ESCAPE, KEY.ESCAPE);\nmappedKeyCodes.set(KEY_CODE.TAB, KEY.TAB);\nvar navigationKeys = new Set();\n// IE11 has no support for new Set with iterable so we need to initialize this\n// by hand.\nnavigationKeys.add(KEY.PAGE_UP);\nnavigationKeys.add(KEY.PAGE_DOWN);\nnavigationKeys.add(KEY.END);\nnavigationKeys.add(KEY.HOME);\nnavigationKeys.add(KEY.ARROW_LEFT);\nnavigationKeys.add(KEY.ARROW_UP);\nnavigationKeys.add(KEY.ARROW_RIGHT);\nnavigationKeys.add(KEY.ARROW_DOWN);\n/**\n * normalizeKey returns the normalized string for a navigational action.\n */\nexport function normalizeKey(evt) {\n    var key = evt.key;\n    // If the event already has a normalized key, return it\n    if (normalizedKeys.has(key)) {\n        return key;\n    }\n    // tslint:disable-next-line:deprecation\n    var mappedKey = mappedKeyCodes.get(evt.keyCode);\n    if (mappedKey) {\n        return mappedKey;\n    }\n    return KEY.UNKNOWN;\n}\n/**\n * isNavigationEvent returns whether the event is a navigation event\n */\nexport function isNavigationEvent(evt) {\n    return navigationKeys.has(normalizeKey(evt));\n}\n//# sourceMappingURL=keyboard.js.map","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar cssClasses = {\n    ANCHOR: 'mdc-menu-surface--anchor',\n    ANIMATING_CLOSED: 'mdc-menu-surface--animating-closed',\n    ANIMATING_OPEN: 'mdc-menu-surface--animating-open',\n    FIXED: 'mdc-menu-surface--fixed',\n    IS_OPEN_BELOW: 'mdc-menu-surface--is-open-below',\n    OPEN: 'mdc-menu-surface--open',\n    ROOT: 'mdc-menu-surface',\n};\n// tslint:disable:object-literal-sort-keys\nvar strings = {\n    CLOSED_EVENT: 'MDCMenuSurface:closed',\n    CLOSING_EVENT: 'MDCMenuSurface:closing',\n    OPENED_EVENT: 'MDCMenuSurface:opened',\n    OPENING_EVENT: 'MDCMenuSurface:opening',\n    FOCUSABLE_ELEMENTS: [\n        'button:not(:disabled)',\n        '[href]:not([aria-disabled=\"true\"])',\n        'input:not(:disabled)',\n        'select:not(:disabled)',\n        'textarea:not(:disabled)',\n        '[tabindex]:not([tabindex=\"-1\"]):not([aria-disabled=\"true\"])',\n    ].join(', '),\n};\n// tslint:enable:object-literal-sort-keys\nvar numbers = {\n    /** Total duration of menu-surface open animation. */\n    TRANSITION_OPEN_DURATION: 120,\n    /** Total duration of menu-surface close animation. */\n    TRANSITION_CLOSE_DURATION: 75,\n    /**\n     * Margin left to the edge of the viewport when menu-surface is at maximum\n     * possible height. Also used as a viewport margin.\n     */\n    MARGIN_TO_EDGE: 32,\n    /**\n     * Ratio of anchor width to menu-surface width for switching from corner\n     * positioning to center positioning.\n     */\n    ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO: 0.67,\n    /**\n     * Amount of time to wait before restoring focus when closing the menu\n     * surface. This is important because if a touch event triggered the menu\n     * close, and the subsequent mouse event occurs after focus is restored, then\n     * the restored focus would be lost.\n     */\n    TOUCH_EVENT_WAIT_MS: 30,\n};\n/**\n * Enum for bits in the {@see Corner) bitmap.\n */\nvar CornerBit;\n(function (CornerBit) {\n    CornerBit[CornerBit[\"BOTTOM\"] = 1] = \"BOTTOM\";\n    CornerBit[CornerBit[\"CENTER\"] = 2] = \"CENTER\";\n    CornerBit[CornerBit[\"RIGHT\"] = 4] = \"RIGHT\";\n    CornerBit[CornerBit[\"FLIP_RTL\"] = 8] = \"FLIP_RTL\";\n})(CornerBit || (CornerBit = {}));\n/**\n * Enum for representing an element corner for positioning the menu-surface.\n *\n * The START constants map to LEFT if element directionality is left\n * to right and RIGHT if the directionality is right to left.\n * Likewise END maps to RIGHT or LEFT depending on the directionality.\n */\nvar Corner;\n(function (Corner) {\n    Corner[Corner[\"TOP_LEFT\"] = 0] = \"TOP_LEFT\";\n    Corner[Corner[\"TOP_RIGHT\"] = 4] = \"TOP_RIGHT\";\n    Corner[Corner[\"BOTTOM_LEFT\"] = 1] = \"BOTTOM_LEFT\";\n    Corner[Corner[\"BOTTOM_RIGHT\"] = 5] = \"BOTTOM_RIGHT\";\n    Corner[Corner[\"TOP_START\"] = 8] = \"TOP_START\";\n    Corner[Corner[\"TOP_END\"] = 12] = \"TOP_END\";\n    Corner[Corner[\"BOTTOM_START\"] = 9] = \"BOTTOM_START\";\n    Corner[Corner[\"BOTTOM_END\"] = 13] = \"BOTTOM_END\";\n})(Corner || (Corner = {}));\nexport { cssClasses, strings, numbers, CornerBit, Corner };\n//# sourceMappingURL=constants.js.map","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar _a, _b;\nvar cssClasses = {\n    LIST_ITEM_ACTIVATED_CLASS: 'mdc-list-item--activated',\n    LIST_ITEM_CLASS: 'mdc-list-item',\n    LIST_ITEM_DISABLED_CLASS: 'mdc-list-item--disabled',\n    LIST_ITEM_SELECTED_CLASS: 'mdc-list-item--selected',\n    LIST_ITEM_TEXT_CLASS: 'mdc-list-item__text',\n    LIST_ITEM_PRIMARY_TEXT_CLASS: 'mdc-list-item__primary-text',\n    ROOT: 'mdc-list',\n};\nvar evolutionClassNameMap = (_a = {},\n    _a[\"\" + cssClasses.LIST_ITEM_ACTIVATED_CLASS] = 'mdc-list-item--activated',\n    _a[\"\" + cssClasses.LIST_ITEM_CLASS] = 'mdc-list-item',\n    _a[\"\" + cssClasses.LIST_ITEM_DISABLED_CLASS] = 'mdc-list-item--disabled',\n    _a[\"\" + cssClasses.LIST_ITEM_SELECTED_CLASS] = 'mdc-list-item--selected',\n    _a[\"\" + cssClasses.LIST_ITEM_PRIMARY_TEXT_CLASS] = 'mdc-list-item__primary-text',\n    _a[\"\" + cssClasses.ROOT] = 'mdc-list',\n    _a);\nvar deprecatedClassNameMap = (_b = {},\n    _b[\"\" + cssClasses.LIST_ITEM_ACTIVATED_CLASS] = 'mdc-deprecated-list-item--activated',\n    _b[\"\" + cssClasses.LIST_ITEM_CLASS] = 'mdc-deprecated-list-item',\n    _b[\"\" + cssClasses.LIST_ITEM_DISABLED_CLASS] = 'mdc-deprecated-list-item--disabled',\n    _b[\"\" + cssClasses.LIST_ITEM_SELECTED_CLASS] = 'mdc-deprecated-list-item--selected',\n    _b[\"\" + cssClasses.LIST_ITEM_TEXT_CLASS] = 'mdc-deprecated-list-item__text',\n    _b[\"\" + cssClasses.LIST_ITEM_PRIMARY_TEXT_CLASS] = 'mdc-deprecated-list-item__primary-text',\n    _b[\"\" + cssClasses.ROOT] = 'mdc-deprecated-list',\n    _b);\nvar strings = {\n    ACTION_EVENT: 'MDCList:action',\n    SELECTION_CHANGE_EVENT: 'MDCList:selectionChange',\n    ARIA_CHECKED: 'aria-checked',\n    ARIA_CHECKED_CHECKBOX_SELECTOR: '[role=\"checkbox\"][aria-checked=\"true\"]',\n    ARIA_CHECKED_RADIO_SELECTOR: '[role=\"radio\"][aria-checked=\"true\"]',\n    ARIA_CURRENT: 'aria-current',\n    ARIA_DISABLED: 'aria-disabled',\n    ARIA_ORIENTATION: 'aria-orientation',\n    ARIA_ORIENTATION_HORIZONTAL: 'horizontal',\n    ARIA_ROLE_CHECKBOX_SELECTOR: '[role=\"checkbox\"]',\n    ARIA_SELECTED: 'aria-selected',\n    ARIA_INTERACTIVE_ROLES_SELECTOR: '[role=\"listbox\"], [role=\"menu\"]',\n    ARIA_MULTI_SELECTABLE_SELECTOR: '[aria-multiselectable=\"true\"]',\n    CHECKBOX_RADIO_SELECTOR: 'input[type=\"checkbox\"], input[type=\"radio\"]',\n    CHECKBOX_SELECTOR: 'input[type=\"checkbox\"]',\n    CHILD_ELEMENTS_TO_TOGGLE_TABINDEX: \"\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" button:not(:disabled),\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" a,\\n    .\" + deprecatedClassNameMap[cssClasses.LIST_ITEM_CLASS] + \" button:not(:disabled),\\n    .\" + deprecatedClassNameMap[cssClasses.LIST_ITEM_CLASS] + \" a\\n  \",\n    DEPRECATED_SELECTOR: '.mdc-deprecated-list',\n    FOCUSABLE_CHILD_ELEMENTS: \"\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" button:not(:disabled),\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" a,\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" input[type=\\\"radio\\\"]:not(:disabled),\\n    .\" + cssClasses.LIST_ITEM_CLASS + \" input[type=\\\"checkbox\\\"]:not(:disabled),\\n    .\" + deprecatedClassNameMap[cssClasses.LIST_ITEM_CLASS] + \" button:not(:disabled),\\n    .\" + deprecatedClassNameMap[cssClasses.LIST_ITEM_CLASS] + \" a,\\n    .\" + deprecatedClassNameMap[cssClasses.LIST_ITEM_CLASS] + \" input[type=\\\"radio\\\"]:not(:disabled),\\n    .\" + deprecatedClassNameMap[cssClasses.LIST_ITEM_CLASS] + \" input[type=\\\"checkbox\\\"]:not(:disabled)\\n  \",\n    RADIO_SELECTOR: 'input[type=\"radio\"]',\n    SELECTED_ITEM_SELECTOR: '[aria-selected=\"true\"], [aria-current=\"true\"]',\n};\nvar numbers = {\n    UNSET_INDEX: -1,\n    TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS: 300\n};\nvar evolutionAttribute = 'evolution';\nexport { strings, cssClasses, numbers, deprecatedClassNameMap, evolutionAttribute, evolutionClassNameMap };\n//# sourceMappingURL=constants.js.map","/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar ELEMENTS_KEY_ALLOWED_IN = ['input', 'button', 'textarea', 'select'];\n/**\n * Ensures that preventDefault is only called if the containing element\n * doesn't consume the event, and it will cause an unintended scroll.\n *\n * @param evt keyboard event to be prevented.\n */\nexport var preventDefaultEvent = function (evt) {\n    var target = evt.target;\n    if (!target) {\n        return;\n    }\n    var tagName = (\"\" + target.tagName).toLowerCase();\n    if (ELEMENTS_KEY_ALLOWED_IN.indexOf(tagName) === -1) {\n        evt.preventDefault();\n    }\n};\n//# sourceMappingURL=events.js.map","/**\n * @license\n * Copyright 2020 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { normalizeKey } from '@material/dom/keyboard';\nimport { numbers } from './constants';\nimport { preventDefaultEvent } from './events';\n/**\n * Initializes a state object for typeahead. Use the same reference for calls to\n * typeahead functions.\n *\n * @return The current state of the typeahead process. Each state reference\n *     represents a typeahead instance as the reference is typically mutated\n *     in-place.\n */\nexport function initState() {\n    var state = {\n        bufferClearTimeout: 0,\n        currentFirstChar: '',\n        sortedIndexCursor: 0,\n        typeaheadBuffer: '',\n    };\n    return state;\n}\n/**\n * Initializes typeahead state by indexing the current list items by primary\n * text into the sortedIndexByFirstChar data structure.\n *\n * @param listItemCount numer of items in the list\n * @param getPrimaryTextByItemIndex function that returns the primary text at a\n *     given index\n *\n * @return Map that maps the first character of the primary text to the full\n *     list text and it's index\n */\nexport function initSortedIndex(listItemCount, getPrimaryTextByItemIndex) {\n    var sortedIndexByFirstChar = new Map();\n    // Aggregate item text to index mapping\n    for (var i = 0; i < listItemCount; i++) {\n        var primaryText = getPrimaryTextByItemIndex(i).trim();\n        if (!primaryText) {\n            continue;\n        }\n        var firstChar = primaryText[0].toLowerCase();\n        if (!sortedIndexByFirstChar.has(firstChar)) {\n            sortedIndexByFirstChar.set(firstChar, []);\n        }\n        sortedIndexByFirstChar.get(firstChar).push({ text: primaryText.toLowerCase(), index: i });\n    }\n    // Sort the mapping\n    // TODO(b/157162694): Investigate replacing forEach with Map.values()\n    sortedIndexByFirstChar.forEach(function (values) {\n        values.sort(function (first, second) {\n            return first.index - second.index;\n        });\n    });\n    return sortedIndexByFirstChar;\n}\n/**\n * Given the next desired character from the user, it attempts to find the next\n * list option matching the buffer. Wraps around if at the end of options.\n *\n * @param opts Options and accessors\n *   - nextChar - the next character to match against items\n *   - sortedIndexByFirstChar - output of `initSortedIndex(...)`\n *   - focusedItemIndex - the index of the currently focused item\n *   - focusItemAtIndex - function that focuses a list item at given index\n *   - skipFocus - whether or not to focus the matched item\n *   - isItemAtIndexDisabled - function that determines whether an item at a\n *        given index is disabled\n * @param state The typeahead state instance. See `initState`.\n *\n * @return The index of the matched item, or -1 if no match.\n */\nexport function matchItem(opts, state) {\n    var nextChar = opts.nextChar, focusItemAtIndex = opts.focusItemAtIndex, sortedIndexByFirstChar = opts.sortedIndexByFirstChar, focusedItemIndex = opts.focusedItemIndex, skipFocus = opts.skipFocus, isItemAtIndexDisabled = opts.isItemAtIndexDisabled;\n    clearTimeout(state.bufferClearTimeout);\n    state.bufferClearTimeout = setTimeout(function () {\n        clearBuffer(state);\n    }, numbers.TYPEAHEAD_BUFFER_CLEAR_TIMEOUT_MS);\n    state.typeaheadBuffer = state.typeaheadBuffer + nextChar;\n    var index;\n    if (state.typeaheadBuffer.length === 1) {\n        index = matchFirstChar(sortedIndexByFirstChar, focusedItemIndex, isItemAtIndexDisabled, state);\n    }\n    else {\n        index = matchAllChars(sortedIndexByFirstChar, isItemAtIndexDisabled, state);\n    }\n    if (index !== -1 && !skipFocus) {\n        focusItemAtIndex(index);\n    }\n    return index;\n}\n/**\n * Matches the user's single input character in the buffer to the\n * next option that begins with such character. Wraps around if at\n * end of options. Returns -1 if no match is found.\n */\nfunction matchFirstChar(sortedIndexByFirstChar, focusedItemIndex, isItemAtIndexDisabled, state) {\n    var firstChar = state.typeaheadBuffer[0];\n    var itemsMatchingFirstChar = sortedIndexByFirstChar.get(firstChar);\n    if (!itemsMatchingFirstChar) {\n        return -1;\n    }\n    // Has the same firstChar been recently matched?\n    // Also, did starting index remain the same between key presses?\n    // If both hold true, simply increment index.\n    if (firstChar === state.currentFirstChar &&\n        itemsMatchingFirstChar[state.sortedIndexCursor].index ===\n            focusedItemIndex) {\n        state.sortedIndexCursor =\n            (state.sortedIndexCursor + 1) % itemsMatchingFirstChar.length;\n        var newIndex = itemsMatchingFirstChar[state.sortedIndexCursor].index;\n        if (!isItemAtIndexDisabled(newIndex)) {\n            return newIndex;\n        }\n    }\n    // If we're here, it means one of the following happened:\n    // - either firstChar or startingIndex has changed, invalidating the\n    // cursor.\n    // - The next item of typeahead is disabled, so we have to look further.\n    state.currentFirstChar = firstChar;\n    var newCursorPosition = -1;\n    var cursorPosition;\n    // Find the first non-disabled item as a fallback.\n    for (cursorPosition = 0; cursorPosition < itemsMatchingFirstChar.length; cursorPosition++) {\n        if (!isItemAtIndexDisabled(itemsMatchingFirstChar[cursorPosition].index)) {\n            newCursorPosition = cursorPosition;\n            break;\n        }\n    }\n    // Advance cursor to first item matching the firstChar that is positioned\n    // after starting item. Cursor is unchanged from fallback if there's no\n    // such item.\n    for (; cursorPosition < itemsMatchingFirstChar.length; cursorPosition++) {\n        if (itemsMatchingFirstChar[cursorPosition].index > focusedItemIndex &&\n            !isItemAtIndexDisabled(itemsMatchingFirstChar[cursorPosition].index)) {\n            newCursorPosition = cursorPosition;\n            break;\n        }\n    }\n    if (newCursorPosition !== -1) {\n        state.sortedIndexCursor = newCursorPosition;\n        return itemsMatchingFirstChar[state.sortedIndexCursor].index;\n    }\n    return -1;\n}\n/**\n * Attempts to find the next item that matches all of the typeahead buffer.\n * Wraps around if at end of options. Returns -1 if no match is found.\n */\nfunction matchAllChars(sortedIndexByFirstChar, isItemAtIndexDisabled, state) {\n    var firstChar = state.typeaheadBuffer[0];\n    var itemsMatchingFirstChar = sortedIndexByFirstChar.get(firstChar);\n    if (!itemsMatchingFirstChar) {\n        return -1;\n    }\n    // Do nothing if text already matches\n    var startingItem = itemsMatchingFirstChar[state.sortedIndexCursor];\n    if (startingItem.text.lastIndexOf(state.typeaheadBuffer, 0) === 0 &&\n        !isItemAtIndexDisabled(startingItem.index)) {\n        return startingItem.index;\n    }\n    // Find next item that matches completely; if no match, we'll eventually\n    // loop around to same position\n    var cursorPosition = (state.sortedIndexCursor + 1) % itemsMatchingFirstChar.length;\n    var nextCursorPosition = -1;\n    while (cursorPosition !== state.sortedIndexCursor) {\n        var currentItem = itemsMatchingFirstChar[cursorPosition];\n        var matches = currentItem.text.lastIndexOf(state.typeaheadBuffer, 0) === 0;\n        var isEnabled = !isItemAtIndexDisabled(currentItem.index);\n        if (matches && isEnabled) {\n            nextCursorPosition = cursorPosition;\n            break;\n        }\n        cursorPosition = (cursorPosition + 1) % itemsMatchingFirstChar.length;\n    }\n    if (nextCursorPosition !== -1) {\n        state.sortedIndexCursor = nextCursorPosition;\n        return itemsMatchingFirstChar[state.sortedIndexCursor].index;\n    }\n    return -1;\n}\n/**\n * Whether or not the given typeahead instaance state is currently typing.\n *\n * @param state The typeahead state instance. See `initState`.\n */\nexport function isTypingInProgress(state) {\n    return state.typeaheadBuffer.length > 0;\n}\n/**\n * Clears the typeahaed buffer so that it resets item matching to the first\n * character.\n *\n * @param state The typeahead state instance. See `initState`.\n */\nexport function clearBuffer(state) {\n    state.typeaheadBuffer = '';\n}\n/**\n * Given a keydown event, it calculates whether or not to automatically focus a\n * list item depending on what was typed mimicing the typeahead functionality of\n * a standard <select> element that is open.\n *\n * @param opts Options and accessors\n *   - event - the KeyboardEvent to handle and parse\n *   - sortedIndexByFirstChar - output of `initSortedIndex(...)`\n *   - focusedItemIndex - the index of the currently focused item\n *   - focusItemAtIndex - function that focuses a list item at given index\n *   - isItemAtFocusedIndexDisabled - whether or not the currently focused item\n *      is disabled\n *   - isTargetListItem - whether or not the event target is a list item\n * @param state The typeahead state instance. See `initState`.\n *\n * @returns index of the item matched by the keydown. -1 if not matched.\n */\nexport function handleKeydown(opts, state) {\n    var event = opts.event, isTargetListItem = opts.isTargetListItem, focusedItemIndex = opts.focusedItemIndex, focusItemAtIndex = opts.focusItemAtIndex, sortedIndexByFirstChar = opts.sortedIndexByFirstChar, isItemAtIndexDisabled = opts.isItemAtIndexDisabled;\n    var isArrowLeft = normalizeKey(event) === 'ArrowLeft';\n    var isArrowUp = normalizeKey(event) === 'ArrowUp';\n    var isArrowRight = normalizeKey(event) === 'ArrowRight';\n    var isArrowDown = normalizeKey(event) === 'ArrowDown';\n    var isHome = normalizeKey(event) === 'Home';\n    var isEnd = normalizeKey(event) === 'End';\n    var isEnter = normalizeKey(event) === 'Enter';\n    var isSpace = normalizeKey(event) === 'Spacebar';\n    if (event.altKey || event.ctrlKey || event.metaKey || isArrowLeft ||\n        isArrowUp || isArrowRight || isArrowDown || isHome || isEnd || isEnter) {\n        return -1;\n    }\n    var isCharacterKey = !isSpace && event.key.length === 1;\n    if (isCharacterKey) {\n        preventDefaultEvent(event);\n        var matchItemOpts = {\n            focusItemAtIndex: focusItemAtIndex,\n            focusedItemIndex: focusedItemIndex,\n            nextChar: event.key.toLowerCase(),\n            sortedIndexByFirstChar: sortedIndexByFirstChar,\n            skipFocus: false,\n            isItemAtIndexDisabled: isItemAtIndexDisabled,\n        };\n        return matchItem(matchItemOpts, state);\n    }\n    if (!isSpace) {\n        return -1;\n    }\n    if (isTargetListItem) {\n        preventDefaultEvent(event);\n    }\n    var typeaheadOnListItem = isTargetListItem && isTypingInProgress(state);\n    if (typeaheadOnListItem) {\n        var matchItemOpts = {\n            focusItemAtIndex: focusItemAtIndex,\n            focusedItemIndex: focusedItemIndex,\n            nextChar: ' ',\n            sortedIndexByFirstChar: sortedIndexByFirstChar,\n            skipFocus: false,\n            isItemAtIndexDisabled: isItemAtIndexDisabled,\n        };\n        // space participates in typeahead matching if in rapid typing mode\n        return matchItem(matchItemOpts, state);\n    }\n    return -1;\n}\n//# sourceMappingURL=typeahead.js.map","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends, __read, __spreadArray } from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { normalizeKey } from '@material/dom/keyboard';\nimport { cssClasses, numbers, strings } from './constants';\nimport { preventDefaultEvent } from './events';\nimport * as typeahead from './typeahead';\nfunction isNumberArray(selectedIndex) {\n    return selectedIndex instanceof Array;\n}\n/** List of modifier keys to consider while handling keyboard events. */\nvar handledModifierKeys = ['Alt', 'Control', 'Meta', 'Shift'];\n/** Checks if the event has the given modifier keys. */\nfunction createModifierChecker(event) {\n    var eventModifiers = new Set(event ? handledModifierKeys.filter(function (m) { return event.getModifierState(m); }) : []);\n    return function (modifiers) {\n        return modifiers.every(function (m) { return eventModifiers.has(m); }) &&\n            modifiers.length === eventModifiers.size;\n    };\n}\nvar MDCListFoundation = /** @class */ (function (_super) {\n    __extends(MDCListFoundation, _super);\n    function MDCListFoundation(adapter) {\n        var _this = _super.call(this, __assign(__assign({}, MDCListFoundation.defaultAdapter), adapter)) || this;\n        _this.wrapFocus = false;\n        _this.isVertical = true;\n        _this.isSingleSelectionList = false;\n        _this.areDisabledItemsFocusable = true;\n        _this.selectedIndex = numbers.UNSET_INDEX;\n        _this.focusedItemIndex = numbers.UNSET_INDEX;\n        _this.useActivatedClass = false;\n        _this.useSelectedAttr = false;\n        _this.ariaCurrentAttrValue = null;\n        _this.isCheckboxList = false;\n        _this.isRadioList = false;\n        _this.lastSelectedIndex = null;\n        _this.hasTypeahead = false;\n        // Transiently holds current typeahead prefix from user.\n        _this.typeaheadState = typeahead.initState();\n        _this.sortedIndexByFirstChar = new Map();\n        return _this;\n    }\n    Object.defineProperty(MDCListFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCListFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCListFoundation, \"numbers\", {\n        get: function () {\n            return numbers;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCListFoundation, \"defaultAdapter\", {\n        get: function () {\n            return {\n                addClassForElementIndex: function () { return undefined; },\n                focusItemAtIndex: function () { return undefined; },\n                getAttributeForElementIndex: function () { return null; },\n                getFocusedElementIndex: function () { return 0; },\n                getListItemCount: function () { return 0; },\n                hasCheckboxAtIndex: function () { return false; },\n                hasRadioAtIndex: function () { return false; },\n                isCheckboxCheckedAtIndex: function () { return false; },\n                isFocusInsideList: function () { return false; },\n                isRootFocused: function () { return false; },\n                listItemAtIndexHasClass: function () { return false; },\n                notifyAction: function () { return undefined; },\n                notifySelectionChange: function () { },\n                removeClassForElementIndex: function () { return undefined; },\n                setAttributeForElementIndex: function () { return undefined; },\n                setCheckedCheckboxOrRadioAtIndex: function () { return undefined; },\n                setTabIndexForListItemChildren: function () { return undefined; },\n                getPrimaryTextAtIndex: function () { return ''; },\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MDCListFoundation.prototype.layout = function () {\n        if (this.adapter.getListItemCount() === 0) {\n            return;\n        }\n        // TODO(b/172274142): consider all items when determining the list's type.\n        if (this.adapter.hasCheckboxAtIndex(0)) {\n            this.isCheckboxList = true;\n        }\n        else if (this.adapter.hasRadioAtIndex(0)) {\n            this.isRadioList = true;\n        }\n        else {\n            this.maybeInitializeSingleSelection();\n        }\n        if (this.hasTypeahead) {\n            this.sortedIndexByFirstChar = this.typeaheadInitSortedIndex();\n        }\n    };\n    /** Returns the index of the item that was last focused. */\n    MDCListFoundation.prototype.getFocusedItemIndex = function () {\n        return this.focusedItemIndex;\n    };\n    /** Toggles focus wrapping with keyboard navigation. */\n    MDCListFoundation.prototype.setWrapFocus = function (value) {\n        this.wrapFocus = value;\n    };\n    /**\n     * Toggles orientation direction for keyboard navigation (true for vertical,\n     * false for horizontal).\n     */\n    MDCListFoundation.prototype.setVerticalOrientation = function (value) {\n        this.isVertical = value;\n    };\n    /** Toggles single-selection behavior. */\n    MDCListFoundation.prototype.setSingleSelection = function (value) {\n        this.isSingleSelectionList = value;\n        if (value) {\n            this.maybeInitializeSingleSelection();\n            this.selectedIndex = this.getSelectedIndexFromDOM();\n        }\n    };\n    MDCListFoundation.prototype.setDisabledItemsFocusable = function (value) {\n        this.areDisabledItemsFocusable = value;\n    };\n    /**\n     * Automatically determines whether the list is single selection list. If so,\n     * initializes the internal state to match the selected item.\n     */\n    MDCListFoundation.prototype.maybeInitializeSingleSelection = function () {\n        var selectedItemIndex = this.getSelectedIndexFromDOM();\n        if (selectedItemIndex === numbers.UNSET_INDEX)\n            return;\n        var hasActivatedClass = this.adapter.listItemAtIndexHasClass(selectedItemIndex, cssClasses.LIST_ITEM_ACTIVATED_CLASS);\n        if (hasActivatedClass) {\n            this.setUseActivatedClass(true);\n        }\n        this.isSingleSelectionList = true;\n        this.selectedIndex = selectedItemIndex;\n    };\n    /** @return Index of the first selected item based on the DOM state. */\n    MDCListFoundation.prototype.getSelectedIndexFromDOM = function () {\n        var selectedIndex = numbers.UNSET_INDEX;\n        var listItemsCount = this.adapter.getListItemCount();\n        for (var i = 0; i < listItemsCount; i++) {\n            var hasSelectedClass = this.adapter.listItemAtIndexHasClass(i, cssClasses.LIST_ITEM_SELECTED_CLASS);\n            var hasActivatedClass = this.adapter.listItemAtIndexHasClass(i, cssClasses.LIST_ITEM_ACTIVATED_CLASS);\n            if (!(hasSelectedClass || hasActivatedClass)) {\n                continue;\n            }\n            selectedIndex = i;\n            break;\n        }\n        return selectedIndex;\n    };\n    /**\n     * Sets whether typeahead is enabled on the list.\n     * @param hasTypeahead Whether typeahead is enabled.\n     */\n    MDCListFoundation.prototype.setHasTypeahead = function (hasTypeahead) {\n        this.hasTypeahead = hasTypeahead;\n        if (hasTypeahead) {\n            this.sortedIndexByFirstChar = this.typeaheadInitSortedIndex();\n        }\n    };\n    /**\n     * @return Whether typeahead is currently matching a user-specified prefix.\n     */\n    MDCListFoundation.prototype.isTypeaheadInProgress = function () {\n        return this.hasTypeahead &&\n            typeahead.isTypingInProgress(this.typeaheadState);\n    };\n    /** Toggle use of the \"activated\" CSS class. */\n    MDCListFoundation.prototype.setUseActivatedClass = function (useActivated) {\n        this.useActivatedClass = useActivated;\n    };\n    /**\n     * Toggles use of the selected attribute (true for aria-selected, false for\n     * aria-checked).\n     */\n    MDCListFoundation.prototype.setUseSelectedAttribute = function (useSelected) {\n        this.useSelectedAttr = useSelected;\n    };\n    MDCListFoundation.prototype.getSelectedIndex = function () {\n        return this.selectedIndex;\n    };\n    MDCListFoundation.prototype.setSelectedIndex = function (index, options) {\n        if (options === void 0) { options = {}; }\n        if (!this.isIndexValid(index)) {\n            return;\n        }\n        if (this.isCheckboxList) {\n            this.setCheckboxAtIndex(index, options);\n        }\n        else if (this.isRadioList) {\n            this.setRadioAtIndex(index, options);\n        }\n        else {\n            this.setSingleSelectionAtIndex(index, options);\n        }\n    };\n    /**\n     * Focus in handler for the list items.\n     */\n    MDCListFoundation.prototype.handleFocusIn = function (listItemIndex) {\n        if (listItemIndex >= 0) {\n            this.focusedItemIndex = listItemIndex;\n            this.adapter.setAttributeForElementIndex(listItemIndex, 'tabindex', '0');\n            this.adapter.setTabIndexForListItemChildren(listItemIndex, '0');\n        }\n    };\n    /**\n     * Focus out handler for the list items.\n     */\n    MDCListFoundation.prototype.handleFocusOut = function (listItemIndex) {\n        var _this = this;\n        if (listItemIndex >= 0) {\n            this.adapter.setAttributeForElementIndex(listItemIndex, 'tabindex', '-1');\n            this.adapter.setTabIndexForListItemChildren(listItemIndex, '-1');\n        }\n        /**\n         * Between Focusout & Focusin some browsers do not have focus on any\n         * element. Setting a delay to wait till the focus is moved to next element.\n         */\n        setTimeout(function () {\n            if (!_this.adapter.isFocusInsideList()) {\n                _this.setTabindexToFirstSelectedOrFocusedItem();\n            }\n        }, 0);\n    };\n    MDCListFoundation.prototype.isIndexDisabled = function (index) {\n        return this.adapter.listItemAtIndexHasClass(index, cssClasses.LIST_ITEM_DISABLED_CLASS);\n    };\n    /**\n     * Key handler for the list.\n     */\n    MDCListFoundation.prototype.handleKeydown = function (event, isRootListItem, listItemIndex) {\n        var _this = this;\n        var _a;\n        var isArrowLeft = normalizeKey(event) === 'ArrowLeft';\n        var isArrowUp = normalizeKey(event) === 'ArrowUp';\n        var isArrowRight = normalizeKey(event) === 'ArrowRight';\n        var isArrowDown = normalizeKey(event) === 'ArrowDown';\n        var isHome = normalizeKey(event) === 'Home';\n        var isEnd = normalizeKey(event) === 'End';\n        var isEnter = normalizeKey(event) === 'Enter';\n        var isSpace = normalizeKey(event) === 'Spacebar';\n        // The keys for forward and back differ based on list orientation.\n        var isForward = (this.isVertical && isArrowDown) || (!this.isVertical && isArrowRight);\n        var isBack = (this.isVertical && isArrowUp) || (!this.isVertical && isArrowLeft);\n        // Have to check both upper and lower case, because having caps lock on\n        // affects the value.\n        var isLetterA = event.key === 'A' || event.key === 'a';\n        var eventHasModifiers = createModifierChecker(event);\n        if (this.adapter.isRootFocused()) {\n            if ((isBack || isEnd) && eventHasModifiers([])) {\n                event.preventDefault();\n                this.focusLastElement();\n            }\n            else if ((isForward || isHome) && eventHasModifiers([])) {\n                event.preventDefault();\n                this.focusFirstElement();\n            }\n            else if (isBack && eventHasModifiers(['Shift']) && this.isCheckboxList) {\n                event.preventDefault();\n                var focusedIndex = this.focusLastElement();\n                if (focusedIndex !== -1) {\n                    this.setSelectedIndexOnAction(focusedIndex, false);\n                }\n            }\n            else if (isForward && eventHasModifiers(['Shift']) && this.isCheckboxList) {\n                event.preventDefault();\n                var focusedIndex = this.focusFirstElement();\n                if (focusedIndex !== -1) {\n                    this.setSelectedIndexOnAction(focusedIndex, false);\n                }\n            }\n            if (this.hasTypeahead) {\n                var handleKeydownOpts = {\n                    event: event,\n                    focusItemAtIndex: function (index) {\n                        _this.focusItemAtIndex(index);\n                    },\n                    focusedItemIndex: -1,\n                    isTargetListItem: isRootListItem,\n                    sortedIndexByFirstChar: this.sortedIndexByFirstChar,\n                    isItemAtIndexDisabled: function (index) { return _this.isIndexDisabled(index); },\n                };\n                typeahead.handleKeydown(handleKeydownOpts, this.typeaheadState);\n            }\n            return;\n        }\n        var currentIndex = this.adapter.getFocusedElementIndex();\n        if (currentIndex === -1) {\n            currentIndex = listItemIndex;\n            if (currentIndex < 0) {\n                // If this event doesn't have a mdc-list-item ancestor from the\n                // current list (not from a sublist), return early.\n                return;\n            }\n        }\n        if (isForward && eventHasModifiers([])) {\n            preventDefaultEvent(event);\n            this.focusNextElement(currentIndex);\n        }\n        else if (isBack && eventHasModifiers([])) {\n            preventDefaultEvent(event);\n            this.focusPrevElement(currentIndex);\n        }\n        else if (isForward && eventHasModifiers(['Shift']) && this.isCheckboxList) {\n            preventDefaultEvent(event);\n            var focusedIndex = this.focusNextElement(currentIndex);\n            if (focusedIndex !== -1) {\n                this.setSelectedIndexOnAction(focusedIndex, false);\n            }\n        }\n        else if (isBack && eventHasModifiers(['Shift']) && this.isCheckboxList) {\n            preventDefaultEvent(event);\n            var focusedIndex = this.focusPrevElement(currentIndex);\n            if (focusedIndex !== -1) {\n                this.setSelectedIndexOnAction(focusedIndex, false);\n            }\n        }\n        else if (isHome && eventHasModifiers([])) {\n            preventDefaultEvent(event);\n            this.focusFirstElement();\n        }\n        else if (isEnd && eventHasModifiers([])) {\n            preventDefaultEvent(event);\n            this.focusLastElement();\n        }\n        else if (isHome && eventHasModifiers(['Control', 'Shift']) &&\n            this.isCheckboxList) {\n            preventDefaultEvent(event);\n            if (this.isIndexDisabled(currentIndex)) {\n                return;\n            }\n            this.focusFirstElement();\n            this.toggleCheckboxRange(0, currentIndex, currentIndex);\n        }\n        else if (isEnd && eventHasModifiers(['Control', 'Shift']) &&\n            this.isCheckboxList) {\n            preventDefaultEvent(event);\n            if (this.isIndexDisabled(currentIndex)) {\n                return;\n            }\n            this.focusLastElement();\n            this.toggleCheckboxRange(currentIndex, this.adapter.getListItemCount() - 1, currentIndex);\n        }\n        else if (isLetterA && eventHasModifiers(['Control']) && this.isCheckboxList) {\n            event.preventDefault();\n            this.checkboxListToggleAll(this.selectedIndex === numbers.UNSET_INDEX ?\n                [] :\n                this.selectedIndex, true);\n        }\n        else if ((isEnter || isSpace) && eventHasModifiers([])) {\n            if (isRootListItem) {\n                // Return early if enter key is pressed on anchor element which triggers\n                // synthetic MouseEvent event.\n                var target = event.target;\n                if (target && target.tagName === 'A' && isEnter) {\n                    return;\n                }\n                preventDefaultEvent(event);\n                if (this.isIndexDisabled(currentIndex)) {\n                    return;\n                }\n                if (!this.isTypeaheadInProgress()) {\n                    if (this.isSelectableList()) {\n                        this.setSelectedIndexOnAction(currentIndex, false);\n                    }\n                    this.adapter.notifyAction(currentIndex);\n                }\n            }\n        }\n        else if ((isEnter || isSpace) && eventHasModifiers(['Shift']) &&\n            this.isCheckboxList) {\n            // Return early if enter key is pressed on anchor element which triggers\n            // synthetic MouseEvent event.\n            var target = event.target;\n            if (target && target.tagName === 'A' && isEnter) {\n                return;\n            }\n            preventDefaultEvent(event);\n            if (this.isIndexDisabled(currentIndex)) {\n                return;\n            }\n            if (!this.isTypeaheadInProgress()) {\n                this.toggleCheckboxRange((_a = this.lastSelectedIndex) !== null && _a !== void 0 ? _a : currentIndex, currentIndex, currentIndex);\n                this.adapter.notifyAction(currentIndex);\n            }\n        }\n        if (this.hasTypeahead) {\n            var handleKeydownOpts = {\n                event: event,\n                focusItemAtIndex: function (index) { _this.focusItemAtIndex(index); },\n                focusedItemIndex: this.focusedItemIndex,\n                isTargetListItem: isRootListItem,\n                sortedIndexByFirstChar: this.sortedIndexByFirstChar,\n                isItemAtIndexDisabled: function (index) { return _this.isIndexDisabled(index); },\n            };\n            typeahead.handleKeydown(handleKeydownOpts, this.typeaheadState);\n        }\n    };\n    /**\n     * Click handler for the list.\n     *\n     * @param index Index for the item that has been clicked.\n     * @param isCheckboxAlreadyUpdatedInAdapter Whether the checkbox for\n     *   the list item has already been updated in the adapter. This attribute\n     *   should be set to `true` when e.g. the click event directly landed on\n     *   the underlying native checkbox element which would cause the checked\n     *   state to be already toggled within `adapter.isCheckboxCheckedAtIndex`.\n     */\n    MDCListFoundation.prototype.handleClick = function (index, isCheckboxAlreadyUpdatedInAdapter, event) {\n        var _a;\n        var eventHasModifiers = createModifierChecker(event);\n        if (index === numbers.UNSET_INDEX) {\n            return;\n        }\n        if (this.isIndexDisabled(index)) {\n            return;\n        }\n        if (eventHasModifiers([])) {\n            if (this.isSelectableList()) {\n                this.setSelectedIndexOnAction(index, isCheckboxAlreadyUpdatedInAdapter);\n            }\n            this.adapter.notifyAction(index);\n        }\n        else if (this.isCheckboxList && eventHasModifiers(['Shift'])) {\n            this.toggleCheckboxRange((_a = this.lastSelectedIndex) !== null && _a !== void 0 ? _a : index, index, index);\n            this.adapter.notifyAction(index);\n        }\n    };\n    /**\n     * Focuses the next element on the list.\n     */\n    MDCListFoundation.prototype.focusNextElement = function (index) {\n        var count = this.adapter.getListItemCount();\n        var nextIndex = index;\n        var firstChecked = null;\n        do {\n            nextIndex++;\n            if (nextIndex >= count) {\n                if (this.wrapFocus) {\n                    nextIndex = 0;\n                }\n                else {\n                    // Return early because last item is already focused.\n                    return index;\n                }\n            }\n            if (nextIndex === firstChecked) {\n                return -1;\n            }\n            firstChecked = firstChecked !== null && firstChecked !== void 0 ? firstChecked : nextIndex;\n        } while (!this.areDisabledItemsFocusable && this.isIndexDisabled(nextIndex));\n        this.focusItemAtIndex(nextIndex);\n        return nextIndex;\n    };\n    /**\n     * Focuses the previous element on the list.\n     */\n    MDCListFoundation.prototype.focusPrevElement = function (index) {\n        var count = this.adapter.getListItemCount();\n        var prevIndex = index;\n        var firstChecked = null;\n        do {\n            prevIndex--;\n            if (prevIndex < 0) {\n                if (this.wrapFocus) {\n                    prevIndex = count - 1;\n                }\n                else {\n                    // Return early because first item is already focused.\n                    return index;\n                }\n            }\n            if (prevIndex === firstChecked) {\n                return -1;\n            }\n            firstChecked = firstChecked !== null && firstChecked !== void 0 ? firstChecked : prevIndex;\n        } while (!this.areDisabledItemsFocusable && this.isIndexDisabled(prevIndex));\n        this.focusItemAtIndex(prevIndex);\n        return prevIndex;\n    };\n    MDCListFoundation.prototype.focusFirstElement = function () {\n        // Pass -1 to `focusNextElement`, since it will incremement to 0 and focus\n        // the first element.\n        return this.focusNextElement(-1);\n    };\n    MDCListFoundation.prototype.focusLastElement = function () {\n        // Pass the length of the list to `focusNextElement` since it will decrement\n        // to length - 1 and focus the last element.\n        return this.focusPrevElement(this.adapter.getListItemCount());\n    };\n    MDCListFoundation.prototype.focusInitialElement = function () {\n        var initialIndex = this.getFirstSelectedOrFocusedItemIndex();\n        this.focusItemAtIndex(initialIndex);\n        return initialIndex;\n    };\n    /**\n     * @param itemIndex Index of the list item\n     * @param isEnabled Sets the list item to enabled or disabled.\n     */\n    MDCListFoundation.prototype.setEnabled = function (itemIndex, isEnabled) {\n        if (!this.isIndexValid(itemIndex, false)) {\n            return;\n        }\n        if (isEnabled) {\n            this.adapter.removeClassForElementIndex(itemIndex, cssClasses.LIST_ITEM_DISABLED_CLASS);\n            this.adapter.setAttributeForElementIndex(itemIndex, strings.ARIA_DISABLED, 'false');\n        }\n        else {\n            this.adapter.addClassForElementIndex(itemIndex, cssClasses.LIST_ITEM_DISABLED_CLASS);\n            this.adapter.setAttributeForElementIndex(itemIndex, strings.ARIA_DISABLED, 'true');\n        }\n    };\n    MDCListFoundation.prototype.setSingleSelectionAtIndex = function (index, options) {\n        if (options === void 0) { options = {}; }\n        if (this.selectedIndex === index && !options.forceUpdate) {\n            return;\n        }\n        var selectedClassName = cssClasses.LIST_ITEM_SELECTED_CLASS;\n        if (this.useActivatedClass) {\n            selectedClassName = cssClasses.LIST_ITEM_ACTIVATED_CLASS;\n        }\n        if (this.selectedIndex !== numbers.UNSET_INDEX) {\n            this.adapter.removeClassForElementIndex(this.selectedIndex, selectedClassName);\n        }\n        this.setAriaForSingleSelectionAtIndex(index);\n        this.setTabindexAtIndex(index);\n        if (index !== numbers.UNSET_INDEX) {\n            this.adapter.addClassForElementIndex(index, selectedClassName);\n        }\n        this.selectedIndex = index;\n        // If the selected value has changed through user interaction,\n        // we want to notify the selection change to the adapter.\n        if (options.isUserInteraction && !options.forceUpdate) {\n            this.adapter.notifySelectionChange([index]);\n        }\n    };\n    /**\n     * Sets aria attribute for single selection at given index.\n     */\n    MDCListFoundation.prototype.setAriaForSingleSelectionAtIndex = function (index) {\n        // Detect the presence of aria-current and get the value only during list\n        // initialization when it is in unset state.\n        if (this.selectedIndex === numbers.UNSET_INDEX) {\n            this.ariaCurrentAttrValue =\n                this.adapter.getAttributeForElementIndex(index, strings.ARIA_CURRENT);\n        }\n        var isAriaCurrent = this.ariaCurrentAttrValue !== null;\n        var ariaAttribute = isAriaCurrent ? strings.ARIA_CURRENT : strings.ARIA_SELECTED;\n        if (this.selectedIndex !== numbers.UNSET_INDEX) {\n            this.adapter.setAttributeForElementIndex(this.selectedIndex, ariaAttribute, 'false');\n        }\n        if (index !== numbers.UNSET_INDEX) {\n            var ariaAttributeValue = isAriaCurrent ? this.ariaCurrentAttrValue : 'true';\n            this.adapter.setAttributeForElementIndex(index, ariaAttribute, ariaAttributeValue);\n        }\n    };\n    /**\n     * Returns the attribute to use for indicating selection status.\n     */\n    MDCListFoundation.prototype.getSelectionAttribute = function () {\n        return this.useSelectedAttr ? strings.ARIA_SELECTED : strings.ARIA_CHECKED;\n    };\n    /**\n     * Toggles radio at give index. Radio doesn't change the checked state if it\n     * is already checked.\n     */\n    MDCListFoundation.prototype.setRadioAtIndex = function (index, options) {\n        if (options === void 0) { options = {}; }\n        var selectionAttribute = this.getSelectionAttribute();\n        this.adapter.setCheckedCheckboxOrRadioAtIndex(index, true);\n        if (this.selectedIndex === index && !options.forceUpdate) {\n            return;\n        }\n        if (this.selectedIndex !== numbers.UNSET_INDEX) {\n            this.adapter.setAttributeForElementIndex(this.selectedIndex, selectionAttribute, 'false');\n        }\n        this.adapter.setAttributeForElementIndex(index, selectionAttribute, 'true');\n        this.selectedIndex = index;\n        // If the selected value has changed through user interaction,\n        // we want to notify the selection change to the adapter.\n        if (options.isUserInteraction && !options.forceUpdate) {\n            this.adapter.notifySelectionChange([index]);\n        }\n    };\n    MDCListFoundation.prototype.setCheckboxAtIndex = function (index, options) {\n        if (options === void 0) { options = {}; }\n        var currentIndex = this.selectedIndex;\n        // If this update is not triggered by a user interaction, we do not\n        // need to know about the currently selected indices and can avoid\n        // constructing the `Set` for performance reasons.\n        var currentlySelected = options.isUserInteraction ?\n            new Set(currentIndex === numbers.UNSET_INDEX ? [] :\n                currentIndex) :\n            null;\n        var selectionAttribute = this.getSelectionAttribute();\n        var changedIndices = [];\n        for (var i = 0; i < this.adapter.getListItemCount(); i++) {\n            var previousIsChecked = currentlySelected === null || currentlySelected === void 0 ? void 0 : currentlySelected.has(i);\n            var newIsChecked = index.indexOf(i) >= 0;\n            // If the selection has changed for this item, we keep track of it\n            // so that we can notify the adapter.\n            if (newIsChecked !== previousIsChecked) {\n                changedIndices.push(i);\n            }\n            this.adapter.setCheckedCheckboxOrRadioAtIndex(i, newIsChecked);\n            this.adapter.setAttributeForElementIndex(i, selectionAttribute, newIsChecked ? 'true' : 'false');\n        }\n        this.selectedIndex = index;\n        // If the selected value has changed through user interaction,\n        // we want to notify the selection change to the adapter.\n        if (options.isUserInteraction && changedIndices.length) {\n            this.adapter.notifySelectionChange(changedIndices);\n        }\n    };\n    /**\n     * Toggles the state of all checkboxes in the given range (inclusive) based on\n     * the state of the checkbox at the `toggleIndex`. To determine whether to set\n     * the given range to checked or unchecked, read the value of the checkbox at\n     * the `toggleIndex` and negate it. Then apply that new checked state to all\n     * checkboxes in the range.\n     * @param fromIndex The start of the range of checkboxes to toggle\n     * @param toIndex The end of the range of checkboxes to toggle\n     * @param toggleIndex The index that will be used to determine the new state\n     *     of the given checkbox range.\n     */\n    MDCListFoundation.prototype.toggleCheckboxRange = function (fromIndex, toIndex, toggleIndex) {\n        this.lastSelectedIndex = toggleIndex;\n        var currentlySelected = new Set(this.selectedIndex === numbers.UNSET_INDEX ?\n            [] :\n            this.selectedIndex);\n        var newIsChecked = !(currentlySelected === null || currentlySelected === void 0 ? void 0 : currentlySelected.has(toggleIndex));\n        var _a = __read([fromIndex, toIndex].sort(), 2), startIndex = _a[0], endIndex = _a[1];\n        var selectionAttribute = this.getSelectionAttribute();\n        var changedIndices = [];\n        for (var i = startIndex; i <= endIndex; i++) {\n            if (this.isIndexDisabled(i)) {\n                continue;\n            }\n            var previousIsChecked = currentlySelected.has(i);\n            // If the selection has changed for this item, we keep track of it\n            // so that we can notify the adapter.\n            if (newIsChecked !== previousIsChecked) {\n                changedIndices.push(i);\n                this.adapter.setCheckedCheckboxOrRadioAtIndex(i, newIsChecked);\n                this.adapter.setAttributeForElementIndex(i, selectionAttribute, \"\" + newIsChecked);\n                if (newIsChecked) {\n                    currentlySelected.add(i);\n                }\n                else {\n                    currentlySelected.delete(i);\n                }\n            }\n        }\n        // If the selected value has changed, update and notify the selection change\n        // to the adapter.\n        if (changedIndices.length) {\n            this.selectedIndex = __spreadArray([], __read(currentlySelected));\n            this.adapter.notifySelectionChange(changedIndices);\n        }\n    };\n    MDCListFoundation.prototype.setTabindexAtIndex = function (index) {\n        if (this.focusedItemIndex === numbers.UNSET_INDEX && index !== 0) {\n            // If some list item was selected set first list item's tabindex to -1.\n            // Generally, tabindex is set to 0 on first list item of list that has no\n            // preselected items.\n            this.adapter.setAttributeForElementIndex(0, 'tabindex', '-1');\n        }\n        else if (this.focusedItemIndex >= 0 && this.focusedItemIndex !== index) {\n            this.adapter.setAttributeForElementIndex(this.focusedItemIndex, 'tabindex', '-1');\n        }\n        // Set the previous selection's tabindex to -1. We need this because\n        // in selection menus that are not visible, programmatically setting an\n        // option will not change focus but will change where tabindex should be 0.\n        if (!(this.selectedIndex instanceof Array) &&\n            this.selectedIndex !== index) {\n            this.adapter.setAttributeForElementIndex(this.selectedIndex, 'tabindex', '-1');\n        }\n        if (index !== numbers.UNSET_INDEX) {\n            this.adapter.setAttributeForElementIndex(index, 'tabindex', '0');\n        }\n    };\n    /**\n     * @return Return true if it is single selectin list, checkbox list or radio\n     *     list.\n     */\n    MDCListFoundation.prototype.isSelectableList = function () {\n        return this.isSingleSelectionList || this.isCheckboxList ||\n            this.isRadioList;\n    };\n    MDCListFoundation.prototype.setTabindexToFirstSelectedOrFocusedItem = function () {\n        var targetIndex = this.getFirstSelectedOrFocusedItemIndex();\n        this.setTabindexAtIndex(targetIndex);\n    };\n    MDCListFoundation.prototype.getFirstSelectedOrFocusedItemIndex = function () {\n        // Action lists retain focus on the most recently focused item.\n        if (!this.isSelectableList()) {\n            return Math.max(this.focusedItemIndex, 0);\n        }\n        // Single-selection lists focus the selected item.\n        if (typeof this.selectedIndex === 'number' &&\n            this.selectedIndex !== numbers.UNSET_INDEX) {\n            return this.selectedIndex;\n        }\n        // Multiple-selection lists focus the first selected item.\n        if (isNumberArray(this.selectedIndex) && this.selectedIndex.length > 0) {\n            return this.selectedIndex.reduce(function (minIndex, currentIndex) { return Math.min(minIndex, currentIndex); });\n        }\n        // Selection lists without a selection focus the first item.\n        return 0;\n    };\n    MDCListFoundation.prototype.isIndexValid = function (index, validateListType) {\n        var _this = this;\n        if (validateListType === void 0) { validateListType = true; }\n        if (index instanceof Array) {\n            if (!this.isCheckboxList && validateListType) {\n                throw new Error('MDCListFoundation: Array of index is only supported for checkbox based list');\n            }\n            if (index.length === 0) {\n                return true;\n            }\n            else {\n                return index.some(function (i) { return _this.isIndexInRange(i); });\n            }\n        }\n        else if (typeof index === 'number') {\n            if (this.isCheckboxList && validateListType) {\n                throw new Error(\"MDCListFoundation: Expected array of index for checkbox based list but got number: \" + index);\n            }\n            return this.isIndexInRange(index) ||\n                this.isSingleSelectionList && index === numbers.UNSET_INDEX;\n        }\n        else {\n            return false;\n        }\n    };\n    MDCListFoundation.prototype.isIndexInRange = function (index) {\n        var listSize = this.adapter.getListItemCount();\n        return index >= 0 && index < listSize;\n    };\n    /**\n     * Sets selected index on user action, toggles checkboxes in checkbox lists\n     * by default, unless `isCheckboxAlreadyUpdatedInAdapter` is set to `true`.\n     *\n     * In cases where `isCheckboxAlreadyUpdatedInAdapter` is set to `true`, the\n     * UI is just updated to reflect the value returned by the adapter.\n     *\n     * When calling this, make sure user interaction does not toggle disabled\n     * list items.\n     */\n    MDCListFoundation.prototype.setSelectedIndexOnAction = function (index, isCheckboxAlreadyUpdatedInAdapter) {\n        this.lastSelectedIndex = index;\n        if (this.isCheckboxList) {\n            this.toggleCheckboxAtIndex(index, isCheckboxAlreadyUpdatedInAdapter);\n            this.adapter.notifySelectionChange([index]);\n        }\n        else {\n            this.setSelectedIndex(index, { isUserInteraction: true });\n        }\n    };\n    MDCListFoundation.prototype.toggleCheckboxAtIndex = function (index, isCheckboxAlreadyUpdatedInAdapter) {\n        var selectionAttribute = this.getSelectionAttribute();\n        var adapterIsChecked = this.adapter.isCheckboxCheckedAtIndex(index);\n        // By default the checked value from the adapter is toggled unless the\n        // checked state in the adapter has already been updated beforehand.\n        // This can be happen when the underlying native checkbox has already\n        // been updated through the native click event.\n        var newCheckedValue;\n        if (isCheckboxAlreadyUpdatedInAdapter) {\n            newCheckedValue = adapterIsChecked;\n        }\n        else {\n            newCheckedValue = !adapterIsChecked;\n            this.adapter.setCheckedCheckboxOrRadioAtIndex(index, newCheckedValue);\n        }\n        this.adapter.setAttributeForElementIndex(index, selectionAttribute, newCheckedValue ? 'true' : 'false');\n        // If none of the checkbox items are selected and selectedIndex is not\n        // initialized then provide a default value.\n        var selectedIndexes = this.selectedIndex === numbers.UNSET_INDEX ?\n            [] :\n            this.selectedIndex.slice();\n        if (newCheckedValue) {\n            selectedIndexes.push(index);\n        }\n        else {\n            selectedIndexes = selectedIndexes.filter(function (i) { return i !== index; });\n        }\n        this.selectedIndex = selectedIndexes;\n    };\n    MDCListFoundation.prototype.focusItemAtIndex = function (index) {\n        this.adapter.focusItemAtIndex(index);\n        this.focusedItemIndex = index;\n    };\n    MDCListFoundation.prototype.checkboxListToggleAll = function (currentlySelectedIndexes, isUserInteraction) {\n        var count = this.adapter.getListItemCount();\n        // If all items are selected, deselect everything.\n        if (currentlySelectedIndexes.length === count) {\n            this.setCheckboxAtIndex([], { isUserInteraction: isUserInteraction });\n        }\n        else {\n            // Otherwise select all enabled options.\n            var allIndexes = [];\n            for (var i = 0; i < count; i++) {\n                if (!this.isIndexDisabled(i) ||\n                    currentlySelectedIndexes.indexOf(i) > -1) {\n                    allIndexes.push(i);\n                }\n            }\n            this.setCheckboxAtIndex(allIndexes, { isUserInteraction: isUserInteraction });\n        }\n    };\n    /**\n     * Given the next desired character from the user, adds it to the typeahead\n     * buffer. Then, attempts to find the next option matching the buffer. Wraps\n     * around if at the end of options.\n     *\n     * @param nextChar The next character to add to the prefix buffer.\n     * @param startingIndex The index from which to start matching. Only relevant\n     *     when starting a new match sequence. To start a new match sequence,\n     *     clear the buffer using `clearTypeaheadBuffer`, or wait for the buffer\n     *     to clear after a set interval defined in list foundation. Defaults to\n     *     the currently focused index.\n     * @return The index of the matched item, or -1 if no match.\n     */\n    MDCListFoundation.prototype.typeaheadMatchItem = function (nextChar, startingIndex, skipFocus) {\n        var _this = this;\n        if (skipFocus === void 0) { skipFocus = false; }\n        var opts = {\n            focusItemAtIndex: function (index) {\n                _this.focusItemAtIndex(index);\n            },\n            focusedItemIndex: startingIndex ? startingIndex : this.focusedItemIndex,\n            nextChar: nextChar,\n            sortedIndexByFirstChar: this.sortedIndexByFirstChar,\n            skipFocus: skipFocus,\n            isItemAtIndexDisabled: function (index) { return _this.isIndexDisabled(index); }\n        };\n        return typeahead.matchItem(opts, this.typeaheadState);\n    };\n    /**\n     * Initializes the MDCListTextAndIndex data structure by indexing the current\n     * list items by primary text.\n     *\n     * @return The primary texts of all the list items sorted by first character.\n     */\n    MDCListFoundation.prototype.typeaheadInitSortedIndex = function () {\n        return typeahead.initSortedIndex(this.adapter.getListItemCount(), this.adapter.getPrimaryTextAtIndex);\n    };\n    /**\n     * Clears the typeahead buffer.\n     */\n    MDCListFoundation.prototype.clearTypeaheadBuffer = function () {\n        typeahead.clearBuffer(this.typeaheadState);\n    };\n    return MDCListFoundation;\n}(MDCFoundation));\nexport { MDCListFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCListFoundation;\n//# sourceMappingURL=foundation.js.map","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends, __values } from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { Corner, CornerBit, cssClasses, numbers, strings } from './constants';\nvar MDCMenuSurfaceFoundation = /** @class */ (function (_super) {\n    __extends(MDCMenuSurfaceFoundation, _super);\n    function MDCMenuSurfaceFoundation(adapter) {\n        var _this = _super.call(this, __assign(__assign({}, MDCMenuSurfaceFoundation.defaultAdapter), adapter)) || this;\n        _this.isSurfaceOpen = false;\n        _this.isQuickOpen = false;\n        _this.isHoistedElement = false;\n        _this.isFixedPosition = false;\n        _this.isHorizontallyCenteredOnViewport = false;\n        _this.maxHeight = 0;\n        _this.openBottomBias = 0;\n        _this.openAnimationEndTimerId = 0;\n        _this.closeAnimationEndTimerId = 0;\n        _this.animationRequestId = 0;\n        _this.anchorCorner = Corner.TOP_START;\n        /**\n         * Corner of the menu surface to which menu surface is attached to anchor.\n         *\n         *  Anchor corner --->+----------+\n         *                    |  ANCHOR  |\n         *                    +----------+\n         *  Origin corner --->+--------------+\n         *                    |              |\n         *                    |              |\n         *                    | MENU SURFACE |\n         *                    |              |\n         *                    |              |\n         *                    +--------------+\n         */\n        _this.originCorner = Corner.TOP_START;\n        _this.anchorMargin = { top: 0, right: 0, bottom: 0, left: 0 };\n        _this.position = { x: 0, y: 0 };\n        return _this;\n    }\n    Object.defineProperty(MDCMenuSurfaceFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuSurfaceFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuSurfaceFoundation, \"numbers\", {\n        get: function () {\n            return numbers;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuSurfaceFoundation, \"Corner\", {\n        get: function () {\n            return Corner;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuSurfaceFoundation, \"defaultAdapter\", {\n        /**\n         * @see {@link MDCMenuSurfaceAdapter} for typing information on parameters and return types.\n         */\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n            return {\n                addClass: function () { return undefined; },\n                removeClass: function () { return undefined; },\n                hasClass: function () { return false; },\n                hasAnchor: function () { return false; },\n                isElementInContainer: function () { return false; },\n                isFocused: function () { return false; },\n                isRtl: function () { return false; },\n                getInnerDimensions: function () { return ({ height: 0, width: 0 }); },\n                getAnchorDimensions: function () { return null; },\n                getWindowDimensions: function () { return ({ height: 0, width: 0 }); },\n                getBodyDimensions: function () { return ({ height: 0, width: 0 }); },\n                getWindowScroll: function () { return ({ x: 0, y: 0 }); },\n                setPosition: function () { return undefined; },\n                setMaxHeight: function () { return undefined; },\n                setTransformOrigin: function () { return undefined; },\n                saveFocus: function () { return undefined; },\n                restoreFocus: function () { return undefined; },\n                notifyClose: function () { return undefined; },\n                notifyClosing: function () { return undefined; },\n                notifyOpen: function () { return undefined; },\n                notifyOpening: function () { return undefined; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MDCMenuSurfaceFoundation.prototype.init = function () {\n        var _a = MDCMenuSurfaceFoundation.cssClasses, ROOT = _a.ROOT, OPEN = _a.OPEN;\n        if (!this.adapter.hasClass(ROOT)) {\n            throw new Error(ROOT + \" class required in root element.\");\n        }\n        if (this.adapter.hasClass(OPEN)) {\n            this.isSurfaceOpen = true;\n        }\n    };\n    MDCMenuSurfaceFoundation.prototype.destroy = function () {\n        clearTimeout(this.openAnimationEndTimerId);\n        clearTimeout(this.closeAnimationEndTimerId);\n        // Cancel any currently running animations.\n        cancelAnimationFrame(this.animationRequestId);\n    };\n    /**\n     * @param corner Default anchor corner alignment of top-left menu surface\n     *     corner.\n     */\n    MDCMenuSurfaceFoundation.prototype.setAnchorCorner = function (corner) {\n        this.anchorCorner = corner;\n    };\n    /**\n     * Flip menu corner horizontally.\n     */\n    MDCMenuSurfaceFoundation.prototype.flipCornerHorizontally = function () {\n        this.originCorner = this.originCorner ^ CornerBit.RIGHT;\n    };\n    /**\n     * @param margin Set of margin values from anchor.\n     */\n    MDCMenuSurfaceFoundation.prototype.setAnchorMargin = function (margin) {\n        this.anchorMargin.top = margin.top || 0;\n        this.anchorMargin.right = margin.right || 0;\n        this.anchorMargin.bottom = margin.bottom || 0;\n        this.anchorMargin.left = margin.left || 0;\n    };\n    /** Used to indicate if the menu-surface is hoisted to the body. */\n    MDCMenuSurfaceFoundation.prototype.setIsHoisted = function (isHoisted) {\n        this.isHoistedElement = isHoisted;\n    };\n    /**\n     * Used to set the menu-surface calculations based on a fixed position menu.\n     */\n    MDCMenuSurfaceFoundation.prototype.setFixedPosition = function (isFixedPosition) {\n        this.isFixedPosition = isFixedPosition;\n    };\n    /**\n     * @return Returns true if menu is in fixed (`position: fixed`) position.\n     */\n    MDCMenuSurfaceFoundation.prototype.isFixed = function () {\n        return this.isFixedPosition;\n    };\n    /** Sets the menu-surface position on the page. */\n    MDCMenuSurfaceFoundation.prototype.setAbsolutePosition = function (x, y) {\n        this.position.x = this.isFinite(x) ? x : 0;\n        this.position.y = this.isFinite(y) ? y : 0;\n    };\n    /** Sets whether menu-surface should be horizontally centered to viewport. */\n    MDCMenuSurfaceFoundation.prototype.setIsHorizontallyCenteredOnViewport = function (isCentered) {\n        this.isHorizontallyCenteredOnViewport = isCentered;\n    };\n    MDCMenuSurfaceFoundation.prototype.setQuickOpen = function (quickOpen) {\n        this.isQuickOpen = quickOpen;\n    };\n    /**\n     * Sets maximum menu-surface height on open.\n     * @param maxHeight The desired max-height. Set to 0 (default) to\n     *     automatically calculate max height based on available viewport space.\n     */\n    MDCMenuSurfaceFoundation.prototype.setMaxHeight = function (maxHeight) {\n        this.maxHeight = maxHeight;\n    };\n    /**\n     * Set to a positive integer to influence the menu to preferentially open\n     * below the anchor instead of above.\n     * @param bias A value of `x` simulates an extra `x` pixels of available space\n     *     below the menu during positioning calculations.\n     */\n    MDCMenuSurfaceFoundation.prototype.setOpenBottomBias = function (bias) {\n        this.openBottomBias = bias;\n    };\n    MDCMenuSurfaceFoundation.prototype.isOpen = function () {\n        return this.isSurfaceOpen;\n    };\n    /**\n     * Open the menu surface.\n     */\n    MDCMenuSurfaceFoundation.prototype.open = function () {\n        var _this = this;\n        if (this.isSurfaceOpen) {\n            return;\n        }\n        this.adapter.notifyOpening();\n        this.adapter.saveFocus();\n        if (this.isQuickOpen) {\n            this.isSurfaceOpen = true;\n            this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n            this.dimensions = this.adapter.getInnerDimensions();\n            this.autoposition();\n            this.adapter.notifyOpen();\n        }\n        else {\n            this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n            this.animationRequestId = requestAnimationFrame(function () {\n                _this.dimensions = _this.adapter.getInnerDimensions();\n                _this.autoposition();\n                _this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n                _this.openAnimationEndTimerId = setTimeout(function () {\n                    _this.openAnimationEndTimerId = 0;\n                    _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n                    _this.adapter.notifyOpen();\n                }, numbers.TRANSITION_OPEN_DURATION);\n            });\n            this.isSurfaceOpen = true;\n        }\n    };\n    /**\n     * Closes the menu surface.\n     */\n    MDCMenuSurfaceFoundation.prototype.close = function (skipRestoreFocus) {\n        var _this = this;\n        if (skipRestoreFocus === void 0) { skipRestoreFocus = false; }\n        if (!this.isSurfaceOpen) {\n            return;\n        }\n        this.adapter.notifyClosing();\n        if (this.isQuickOpen) {\n            this.isSurfaceOpen = false;\n            if (!skipRestoreFocus) {\n                this.maybeRestoreFocus();\n            }\n            this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n            this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.IS_OPEN_BELOW);\n            this.adapter.notifyClose();\n            return;\n        }\n        this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n        requestAnimationFrame(function () {\n            _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n            _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.IS_OPEN_BELOW);\n            _this.closeAnimationEndTimerId = setTimeout(function () {\n                _this.closeAnimationEndTimerId = 0;\n                _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n                _this.adapter.notifyClose();\n            }, numbers.TRANSITION_CLOSE_DURATION);\n        });\n        this.isSurfaceOpen = false;\n        if (!skipRestoreFocus) {\n            this.maybeRestoreFocus();\n        }\n    };\n    /** Handle clicks and close if not within menu-surface element. */\n    MDCMenuSurfaceFoundation.prototype.handleBodyClick = function (evt) {\n        var el = evt.target;\n        if (this.adapter.isElementInContainer(el)) {\n            return;\n        }\n        this.close();\n    };\n    /** Handle keys that close the surface. */\n    MDCMenuSurfaceFoundation.prototype.handleKeydown = function (evt) {\n        var keyCode = evt.keyCode, key = evt.key;\n        var isEscape = key === 'Escape' || keyCode === 27;\n        if (isEscape) {\n            this.close();\n        }\n    };\n    MDCMenuSurfaceFoundation.prototype.autoposition = function () {\n        var _a;\n        // Compute measurements for autoposition methods reuse.\n        this.measurements = this.getAutoLayoutmeasurements();\n        var corner = this.getoriginCorner();\n        var maxMenuSurfaceHeight = this.getMenuSurfaceMaxHeight(corner);\n        var verticalAlignment = this.hasBit(corner, CornerBit.BOTTOM) ? 'bottom' : 'top';\n        var horizontalAlignment = this.hasBit(corner, CornerBit.RIGHT) ? 'right' : 'left';\n        var horizontalOffset = this.getHorizontalOriginOffset(corner);\n        var verticalOffset = this.getVerticalOriginOffset(corner);\n        var _b = this.measurements, anchorSize = _b.anchorSize, surfaceSize = _b.surfaceSize;\n        var position = (_a = {},\n            _a[horizontalAlignment] = horizontalOffset,\n            _a[verticalAlignment] = verticalOffset,\n            _a);\n        // Center align when anchor width is comparable or greater than menu\n        // surface, otherwise keep corner.\n        if (anchorSize.width / surfaceSize.width >\n            numbers.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO) {\n            horizontalAlignment = 'center';\n        }\n        // If the menu-surface has been hoisted to the body, it's no longer relative\n        // to the anchor element\n        if (this.isHoistedElement || this.isFixedPosition) {\n            this.adjustPositionForHoistedElement(position);\n        }\n        this.adapter.setTransformOrigin(horizontalAlignment + \" \" + verticalAlignment);\n        this.adapter.setPosition(position);\n        this.adapter.setMaxHeight(maxMenuSurfaceHeight ? maxMenuSurfaceHeight + 'px' : '');\n        // If it is opened from the top then add is-open-below class\n        if (!this.hasBit(corner, CornerBit.BOTTOM)) {\n            this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.IS_OPEN_BELOW);\n        }\n    };\n    /**\n     * @return Measurements used to position menu surface popup.\n     */\n    MDCMenuSurfaceFoundation.prototype.getAutoLayoutmeasurements = function () {\n        var anchorRect = this.adapter.getAnchorDimensions();\n        var bodySize = this.adapter.getBodyDimensions();\n        var viewportSize = this.adapter.getWindowDimensions();\n        var windowScroll = this.adapter.getWindowScroll();\n        if (!anchorRect) {\n            // tslint:disable:object-literal-sort-keys Positional properties are more readable when they're grouped together\n            anchorRect = {\n                top: this.position.y,\n                right: this.position.x,\n                bottom: this.position.y,\n                left: this.position.x,\n                width: 0,\n                height: 0,\n            };\n            // tslint:enable:object-literal-sort-keys\n        }\n        return {\n            anchorSize: anchorRect,\n            bodySize: bodySize,\n            surfaceSize: this.dimensions,\n            viewportDistance: {\n                // tslint:disable:object-literal-sort-keys Positional properties are more readable when they're grouped together\n                top: anchorRect.top,\n                right: viewportSize.width - anchorRect.right,\n                bottom: viewportSize.height - anchorRect.bottom,\n                left: anchorRect.left,\n                // tslint:enable:object-literal-sort-keys\n            },\n            viewportSize: viewportSize,\n            windowScroll: windowScroll,\n        };\n    };\n    /**\n     * Computes the corner of the anchor from which to animate and position the\n     * menu surface.\n     *\n     * Only LEFT or RIGHT bit is used to position the menu surface ignoring RTL\n     * context. E.g., menu surface will be positioned from right side on TOP_END.\n     */\n    MDCMenuSurfaceFoundation.prototype.getoriginCorner = function () {\n        var corner = this.originCorner;\n        var _a = this.measurements, viewportDistance = _a.viewportDistance, anchorSize = _a.anchorSize, surfaceSize = _a.surfaceSize;\n        var MARGIN_TO_EDGE = MDCMenuSurfaceFoundation.numbers.MARGIN_TO_EDGE;\n        var isAnchoredToBottom = this.hasBit(this.anchorCorner, CornerBit.BOTTOM);\n        var availableTop;\n        var availableBottom;\n        if (isAnchoredToBottom) {\n            availableTop =\n                viewportDistance.top - MARGIN_TO_EDGE + this.anchorMargin.bottom;\n            availableBottom =\n                viewportDistance.bottom - MARGIN_TO_EDGE - this.anchorMargin.bottom;\n        }\n        else {\n            availableTop =\n                viewportDistance.top - MARGIN_TO_EDGE + this.anchorMargin.top;\n            availableBottom = viewportDistance.bottom - MARGIN_TO_EDGE +\n                anchorSize.height - this.anchorMargin.top;\n        }\n        var isAvailableBottom = availableBottom - surfaceSize.height > 0;\n        if (!isAvailableBottom &&\n            availableTop > availableBottom + this.openBottomBias) {\n            // Attach bottom side of surface to the anchor.\n            corner = this.setBit(corner, CornerBit.BOTTOM);\n        }\n        var isRtl = this.adapter.isRtl();\n        var isFlipRtl = this.hasBit(this.anchorCorner, CornerBit.FLIP_RTL);\n        var hasRightBit = this.hasBit(this.anchorCorner, CornerBit.RIGHT) ||\n            this.hasBit(corner, CornerBit.RIGHT);\n        // Whether surface attached to right side of anchor element.\n        var isAnchoredToRight = false;\n        // Anchored to start\n        if (isRtl && isFlipRtl) {\n            isAnchoredToRight = !hasRightBit;\n        }\n        else {\n            // Anchored to right\n            isAnchoredToRight = hasRightBit;\n        }\n        var availableLeft;\n        var availableRight;\n        if (isAnchoredToRight) {\n            availableLeft =\n                viewportDistance.left + anchorSize.width + this.anchorMargin.right;\n            availableRight = viewportDistance.right - this.anchorMargin.right;\n        }\n        else {\n            availableLeft = viewportDistance.left + this.anchorMargin.left;\n            availableRight =\n                viewportDistance.right + anchorSize.width - this.anchorMargin.left;\n        }\n        var isAvailableLeft = availableLeft - surfaceSize.width > 0;\n        var isAvailableRight = availableRight - surfaceSize.width > 0;\n        var isOriginCornerAlignedToEnd = this.hasBit(corner, CornerBit.FLIP_RTL) &&\n            this.hasBit(corner, CornerBit.RIGHT);\n        if (isAvailableRight && isOriginCornerAlignedToEnd && isRtl ||\n            !isAvailableLeft && isOriginCornerAlignedToEnd) {\n            // Attach left side of surface to the anchor.\n            corner = this.unsetBit(corner, CornerBit.RIGHT);\n        }\n        else if (isAvailableLeft && isAnchoredToRight && isRtl ||\n            (isAvailableLeft && !isAnchoredToRight && hasRightBit) ||\n            (!isAvailableRight && availableLeft >= availableRight)) {\n            // Attach right side of surface to the anchor.\n            corner = this.setBit(corner, CornerBit.RIGHT);\n        }\n        return corner;\n    };\n    /**\n     * @param corner Origin corner of the menu surface.\n     * @return Maximum height of the menu surface, based on available space. 0\n     *     indicates should not be set.\n     */\n    MDCMenuSurfaceFoundation.prototype.getMenuSurfaceMaxHeight = function (corner) {\n        if (this.maxHeight > 0) {\n            return this.maxHeight;\n        }\n        var viewportDistance = this.measurements.viewportDistance;\n        var maxHeight = 0;\n        var isBottomAligned = this.hasBit(corner, CornerBit.BOTTOM);\n        var isBottomAnchored = this.hasBit(this.anchorCorner, CornerBit.BOTTOM);\n        var MARGIN_TO_EDGE = MDCMenuSurfaceFoundation.numbers.MARGIN_TO_EDGE;\n        // When maximum height is not specified, it is handled from CSS.\n        if (isBottomAligned) {\n            maxHeight = viewportDistance.top + this.anchorMargin.top - MARGIN_TO_EDGE;\n            if (!isBottomAnchored) {\n                maxHeight += this.measurements.anchorSize.height;\n            }\n        }\n        else {\n            maxHeight = viewportDistance.bottom - this.anchorMargin.bottom +\n                this.measurements.anchorSize.height - MARGIN_TO_EDGE;\n            if (isBottomAnchored) {\n                maxHeight -= this.measurements.anchorSize.height;\n            }\n        }\n        return maxHeight;\n    };\n    /**\n     * @param corner Origin corner of the menu surface.\n     * @return Horizontal offset of menu surface origin corner from corresponding\n     *     anchor corner.\n     */\n    MDCMenuSurfaceFoundation.prototype.getHorizontalOriginOffset = function (corner) {\n        var anchorSize = this.measurements.anchorSize;\n        // isRightAligned corresponds to using the 'right' property on the surface.\n        var isRightAligned = this.hasBit(corner, CornerBit.RIGHT);\n        var avoidHorizontalOverlap = this.hasBit(this.anchorCorner, CornerBit.RIGHT);\n        if (isRightAligned) {\n            var rightOffset = avoidHorizontalOverlap ?\n                anchorSize.width - this.anchorMargin.left :\n                this.anchorMargin.right;\n            // For hoisted or fixed elements, adjust the offset by the difference\n            // between viewport width and body width so when we calculate the right\n            // value (`adjustPositionForHoistedElement`) based on the element\n            // position, the right property is correct.\n            if (this.isHoistedElement || this.isFixedPosition) {\n                return rightOffset -\n                    (this.measurements.viewportSize.width -\n                        this.measurements.bodySize.width);\n            }\n            return rightOffset;\n        }\n        return avoidHorizontalOverlap ? anchorSize.width - this.anchorMargin.right :\n            this.anchorMargin.left;\n    };\n    /**\n     * @param corner Origin corner of the menu surface.\n     * @return Vertical offset of menu surface origin corner from corresponding\n     *     anchor corner.\n     */\n    MDCMenuSurfaceFoundation.prototype.getVerticalOriginOffset = function (corner) {\n        var anchorSize = this.measurements.anchorSize;\n        var isBottomAligned = this.hasBit(corner, CornerBit.BOTTOM);\n        var avoidVerticalOverlap = this.hasBit(this.anchorCorner, CornerBit.BOTTOM);\n        var y = 0;\n        if (isBottomAligned) {\n            y = avoidVerticalOverlap ? anchorSize.height - this.anchorMargin.top :\n                -this.anchorMargin.bottom;\n        }\n        else {\n            y = avoidVerticalOverlap ?\n                (anchorSize.height + this.anchorMargin.bottom) :\n                this.anchorMargin.top;\n        }\n        return y;\n    };\n    /**\n     * Calculates the offsets for positioning the menu-surface when the\n     * menu-surface has been hoisted to the body.\n     */\n    MDCMenuSurfaceFoundation.prototype.adjustPositionForHoistedElement = function (position) {\n        var e_1, _a;\n        var _b = this.measurements, windowScroll = _b.windowScroll, viewportDistance = _b.viewportDistance, surfaceSize = _b.surfaceSize, viewportSize = _b.viewportSize;\n        var props = Object.keys(position);\n        try {\n            for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n                var prop = props_1_1.value;\n                var value = position[prop] || 0;\n                if (this.isHorizontallyCenteredOnViewport &&\n                    (prop === 'left' || prop === 'right')) {\n                    position[prop] = (viewportSize.width - surfaceSize.width) / 2;\n                    continue;\n                }\n                // Hoisted surfaces need to have the anchor elements location on the page\n                // added to the position properties for proper alignment on the body.\n                value += viewportDistance[prop];\n                // Surfaces that are absolutely positioned need to have additional\n                // calculations for scroll and bottom positioning.\n                if (!this.isFixedPosition) {\n                    if (prop === 'top') {\n                        value += windowScroll.y;\n                    }\n                    else if (prop === 'bottom') {\n                        value -= windowScroll.y;\n                    }\n                    else if (prop === 'left') {\n                        value += windowScroll.x;\n                    }\n                    else { // prop === 'right'\n                        value -= windowScroll.x;\n                    }\n                }\n                position[prop] = value;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    /**\n     * The last focused element when the menu surface was opened should regain\n     * focus, if the user is focused on or within the menu surface when it is\n     * closed.\n     */\n    MDCMenuSurfaceFoundation.prototype.maybeRestoreFocus = function () {\n        var _this = this;\n        var isRootFocused = this.adapter.isFocused();\n        var ownerDocument = this.adapter.getOwnerDocument ?\n            this.adapter.getOwnerDocument() :\n            document;\n        var childHasFocus = ownerDocument.activeElement &&\n            this.adapter.isElementInContainer(ownerDocument.activeElement);\n        if (isRootFocused || childHasFocus) {\n            // Wait before restoring focus when closing the menu surface. This is\n            // important because if a touch event triggered the menu close, and the\n            // subsequent mouse event occurs after focus is restored, then the\n            // restored focus would be lost.\n            setTimeout(function () {\n                _this.adapter.restoreFocus();\n            }, numbers.TOUCH_EVENT_WAIT_MS);\n        }\n    };\n    MDCMenuSurfaceFoundation.prototype.hasBit = function (corner, bit) {\n        return Boolean(corner & bit); // tslint:disable-line:no-bitwise\n    };\n    MDCMenuSurfaceFoundation.prototype.setBit = function (corner, bit) {\n        return corner | bit; // tslint:disable-line:no-bitwise\n    };\n    MDCMenuSurfaceFoundation.prototype.unsetBit = function (corner, bit) {\n        return corner ^ bit;\n    };\n    /**\n     * isFinite that doesn't force conversion to number type.\n     * Equivalent to Number.isFinite in ES2015, which is not supported in IE.\n     */\n    MDCMenuSurfaceFoundation.prototype.isFinite = function (num) {\n        return typeof num === 'number' && isFinite(num);\n    };\n    return MDCMenuSurfaceFoundation;\n}(MDCFoundation));\nexport { MDCMenuSurfaceFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCMenuSurfaceFoundation;\n//# sourceMappingURL=foundation.js.map","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar cssClasses = {\n    MENU_SELECTED_LIST_ITEM: 'mdc-menu-item--selected',\n    MENU_SELECTION_GROUP: 'mdc-menu__selection-group',\n    ROOT: 'mdc-menu',\n};\nvar strings = {\n    ARIA_CHECKED_ATTR: 'aria-checked',\n    ARIA_DISABLED_ATTR: 'aria-disabled',\n    CHECKBOX_SELECTOR: 'input[type=\"checkbox\"]',\n    LIST_SELECTOR: '.mdc-list,.mdc-deprecated-list',\n    SELECTED_EVENT: 'MDCMenu:selected',\n    SKIP_RESTORE_FOCUS: 'data-menu-item-skip-restore-focus',\n};\nvar numbers = {\n    FOCUS_ROOT_INDEX: -1,\n};\nvar DefaultFocusState;\n(function (DefaultFocusState) {\n    DefaultFocusState[DefaultFocusState[\"NONE\"] = 0] = \"NONE\";\n    DefaultFocusState[DefaultFocusState[\"LIST_ROOT\"] = 1] = \"LIST_ROOT\";\n    DefaultFocusState[DefaultFocusState[\"FIRST_ITEM\"] = 2] = \"FIRST_ITEM\";\n    DefaultFocusState[DefaultFocusState[\"LAST_ITEM\"] = 3] = \"LAST_ITEM\";\n})(DefaultFocusState || (DefaultFocusState = {}));\nexport { cssClasses, strings, numbers, DefaultFocusState };\n//# sourceMappingURL=constants.js.map","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends } from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses as listCssClasses } from '@material/list/constants';\nimport { MDCMenuSurfaceFoundation } from '@material/menu-surface/foundation';\nimport { cssClasses, DefaultFocusState, numbers, strings } from './constants';\nvar MDCMenuFoundation = /** @class */ (function (_super) {\n    __extends(MDCMenuFoundation, _super);\n    function MDCMenuFoundation(adapter) {\n        var _this = _super.call(this, __assign(__assign({}, MDCMenuFoundation.defaultAdapter), adapter)) || this;\n        _this.closeAnimationEndTimerId = 0;\n        _this.defaultFocusState = DefaultFocusState.LIST_ROOT;\n        _this.selectedIndex = -1;\n        return _this;\n    }\n    Object.defineProperty(MDCMenuFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuFoundation, \"numbers\", {\n        get: function () {\n            return numbers;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCMenuFoundation, \"defaultAdapter\", {\n        /**\n         * @see {@link MDCMenuAdapter} for typing information on parameters and return types.\n         */\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n            return {\n                addClassToElementAtIndex: function () { return undefined; },\n                removeClassFromElementAtIndex: function () { return undefined; },\n                addAttributeToElementAtIndex: function () { return undefined; },\n                removeAttributeFromElementAtIndex: function () { return undefined; },\n                getAttributeFromElementAtIndex: function () { return null; },\n                elementContainsClass: function () { return false; },\n                closeSurface: function () { return undefined; },\n                getElementIndex: function () { return -1; },\n                notifySelected: function () { return undefined; },\n                getMenuItemCount: function () { return 0; },\n                focusItemAtIndex: function () { return undefined; },\n                focusListRoot: function () { return undefined; },\n                getSelectedSiblingOfItemAtIndex: function () { return -1; },\n                isSelectableItemAtIndex: function () { return false; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MDCMenuFoundation.prototype.destroy = function () {\n        if (this.closeAnimationEndTimerId) {\n            clearTimeout(this.closeAnimationEndTimerId);\n        }\n        this.adapter.closeSurface();\n    };\n    MDCMenuFoundation.prototype.handleKeydown = function (evt) {\n        var key = evt.key, keyCode = evt.keyCode;\n        var isTab = key === 'Tab' || keyCode === 9;\n        if (isTab) {\n            this.adapter.closeSurface(/** skipRestoreFocus */ true);\n        }\n    };\n    MDCMenuFoundation.prototype.handleItemAction = function (listItem) {\n        var _this = this;\n        var index = this.adapter.getElementIndex(listItem);\n        if (index < 0) {\n            return;\n        }\n        this.adapter.notifySelected({ index: index });\n        var skipRestoreFocus = this.adapter.getAttributeFromElementAtIndex(index, strings.SKIP_RESTORE_FOCUS) === 'true';\n        this.adapter.closeSurface(skipRestoreFocus);\n        // Wait for the menu to close before adding/removing classes that affect styles.\n        this.closeAnimationEndTimerId = setTimeout(function () {\n            // Recompute the index in case the menu contents have changed.\n            var recomputedIndex = _this.adapter.getElementIndex(listItem);\n            if (recomputedIndex >= 0 &&\n                _this.adapter.isSelectableItemAtIndex(recomputedIndex)) {\n                _this.setSelectedIndex(recomputedIndex);\n            }\n        }, MDCMenuSurfaceFoundation.numbers.TRANSITION_CLOSE_DURATION);\n    };\n    MDCMenuFoundation.prototype.handleMenuSurfaceOpened = function () {\n        switch (this.defaultFocusState) {\n            case DefaultFocusState.FIRST_ITEM:\n                this.adapter.focusItemAtIndex(0);\n                break;\n            case DefaultFocusState.LAST_ITEM:\n                this.adapter.focusItemAtIndex(this.adapter.getMenuItemCount() - 1);\n                break;\n            case DefaultFocusState.NONE:\n                // Do nothing.\n                break;\n            default:\n                this.adapter.focusListRoot();\n                break;\n        }\n    };\n    /**\n     * Sets default focus state where the menu should focus every time when menu\n     * is opened. Focuses the list root (`DefaultFocusState.LIST_ROOT`) element by\n     * default.\n     */\n    MDCMenuFoundation.prototype.setDefaultFocusState = function (focusState) {\n        this.defaultFocusState = focusState;\n    };\n    /** @return Index of the currently selected list item within the menu. */\n    MDCMenuFoundation.prototype.getSelectedIndex = function () {\n        return this.selectedIndex;\n    };\n    /**\n     * Selects the list item at `index` within the menu.\n     * @param index Index of list item within the menu.\n     */\n    MDCMenuFoundation.prototype.setSelectedIndex = function (index) {\n        this.validatedIndex(index);\n        if (!this.adapter.isSelectableItemAtIndex(index)) {\n            throw new Error('MDCMenuFoundation: No selection group at specified index.');\n        }\n        var prevSelectedIndex = this.adapter.getSelectedSiblingOfItemAtIndex(index);\n        if (prevSelectedIndex >= 0) {\n            this.adapter.removeAttributeFromElementAtIndex(prevSelectedIndex, strings.ARIA_CHECKED_ATTR);\n            this.adapter.removeClassFromElementAtIndex(prevSelectedIndex, cssClasses.MENU_SELECTED_LIST_ITEM);\n        }\n        this.adapter.addClassToElementAtIndex(index, cssClasses.MENU_SELECTED_LIST_ITEM);\n        this.adapter.addAttributeToElementAtIndex(index, strings.ARIA_CHECKED_ATTR, 'true');\n        this.selectedIndex = index;\n    };\n    /**\n     * Sets the enabled state to isEnabled for the menu item at the given index.\n     * @param index Index of the menu item\n     * @param isEnabled The desired enabled state of the menu item.\n     */\n    MDCMenuFoundation.prototype.setEnabled = function (index, isEnabled) {\n        this.validatedIndex(index);\n        if (isEnabled) {\n            this.adapter.removeClassFromElementAtIndex(index, listCssClasses.LIST_ITEM_DISABLED_CLASS);\n            this.adapter.addAttributeToElementAtIndex(index, strings.ARIA_DISABLED_ATTR, 'false');\n        }\n        else {\n            this.adapter.addClassToElementAtIndex(index, listCssClasses.LIST_ITEM_DISABLED_CLASS);\n            this.adapter.addAttributeToElementAtIndex(index, strings.ARIA_DISABLED_ATTR, 'true');\n        }\n    };\n    MDCMenuFoundation.prototype.validatedIndex = function (index) {\n        var menuSize = this.adapter.getMenuItemCount();\n        var isIndexInRange = index >= 0 && index < menuSize;\n        if (!isIndexInRange) {\n            throw new Error('MDCMenuFoundation: No list item at specified index.');\n        }\n    };\n    return MDCMenuFoundation;\n}(MDCFoundation));\nexport { MDCMenuFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCMenuFoundation;\n//# sourceMappingURL=foundation.js.map","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar cssClasses = {\n    ACTIVATED: 'mdc-select--activated',\n    DISABLED: 'mdc-select--disabled',\n    FOCUSED: 'mdc-select--focused',\n    INVALID: 'mdc-select--invalid',\n    MENU_INVALID: 'mdc-select__menu--invalid',\n    OUTLINED: 'mdc-select--outlined',\n    REQUIRED: 'mdc-select--required',\n    ROOT: 'mdc-select',\n    WITH_LEADING_ICON: 'mdc-select--with-leading-icon',\n};\nvar strings = {\n    ARIA_CONTROLS: 'aria-controls',\n    ARIA_DESCRIBEDBY: 'aria-describedby',\n    ARIA_SELECTED_ATTR: 'aria-selected',\n    CHANGE_EVENT: 'MDCSelect:change',\n    HIDDEN_INPUT_SELECTOR: 'input[type=\"hidden\"]',\n    LABEL_SELECTOR: '.mdc-floating-label',\n    LEADING_ICON_SELECTOR: '.mdc-select__icon',\n    LINE_RIPPLE_SELECTOR: '.mdc-line-ripple',\n    MENU_SELECTOR: '.mdc-select__menu',\n    OUTLINE_SELECTOR: '.mdc-notched-outline',\n    SELECTED_TEXT_SELECTOR: '.mdc-select__selected-text',\n    SELECT_ANCHOR_SELECTOR: '.mdc-select__anchor',\n    VALUE_ATTR: 'data-value',\n};\nvar numbers = {\n    LABEL_SCALE: 0.75,\n    UNSET_INDEX: -1,\n    CLICK_DEBOUNCE_TIMEOUT_MS: 330,\n};\nexport { cssClasses, strings, numbers };\n//# sourceMappingURL=constants.js.map","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends } from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { KEY, normalizeKey } from '@material/dom/keyboard';\nimport { Corner } from '@material/menu-surface/constants';\nimport { cssClasses, numbers, strings } from './constants';\nvar MDCSelectFoundation = /** @class */ (function (_super) {\n    __extends(MDCSelectFoundation, _super);\n    /* istanbul ignore next: optional argument is not a branch statement */\n    /**\n     * @param adapter\n     * @param foundationMap Map from subcomponent names to their subfoundations.\n     */\n    function MDCSelectFoundation(adapter, foundationMap) {\n        if (foundationMap === void 0) { foundationMap = {}; }\n        var _this = _super.call(this, __assign(__assign({}, MDCSelectFoundation.defaultAdapter), adapter)) || this;\n        // Disabled state\n        _this.disabled = false;\n        // isMenuOpen is used to track the state of the menu by listening to the\n        // MDCMenuSurface:closed event For reference, menu.open will return false if\n        // the menu is still closing, but isMenuOpen returns false only after the menu\n        // has closed\n        _this.isMenuOpen = false;\n        // By default, select is invalid if it is required but no value is selected.\n        _this.useDefaultValidation = true;\n        _this.customValidity = true;\n        _this.lastSelectedIndex = numbers.UNSET_INDEX;\n        _this.clickDebounceTimeout = 0;\n        _this.recentlyClicked = false;\n        _this.leadingIcon = foundationMap.leadingIcon;\n        _this.helperText = foundationMap.helperText;\n        return _this;\n    }\n    Object.defineProperty(MDCSelectFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCSelectFoundation, \"numbers\", {\n        get: function () {\n            return numbers;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCSelectFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCSelectFoundation, \"defaultAdapter\", {\n        /**\n         * See {@link MDCSelectAdapter} for typing information on parameters and return types.\n         */\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n            return {\n                addClass: function () { return undefined; },\n                removeClass: function () { return undefined; },\n                hasClass: function () { return false; },\n                activateBottomLine: function () { return undefined; },\n                deactivateBottomLine: function () { return undefined; },\n                getSelectedIndex: function () { return -1; },\n                setSelectedIndex: function () { return undefined; },\n                hasLabel: function () { return false; },\n                floatLabel: function () { return undefined; },\n                getLabelWidth: function () { return 0; },\n                setLabelRequired: function () { return undefined; },\n                hasOutline: function () { return false; },\n                notchOutline: function () { return undefined; },\n                closeOutline: function () { return undefined; },\n                setRippleCenter: function () { return undefined; },\n                notifyChange: function () { return undefined; },\n                setSelectedText: function () { return undefined; },\n                isSelectAnchorFocused: function () { return false; },\n                getSelectAnchorAttr: function () { return ''; },\n                setSelectAnchorAttr: function () { return undefined; },\n                removeSelectAnchorAttr: function () { return undefined; },\n                addMenuClass: function () { return undefined; },\n                removeMenuClass: function () { return undefined; },\n                openMenu: function () { return undefined; },\n                closeMenu: function () { return undefined; },\n                getAnchorElement: function () { return null; },\n                setMenuAnchorElement: function () { return undefined; },\n                setMenuAnchorCorner: function () { return undefined; },\n                setMenuWrapFocus: function () { return undefined; },\n                focusMenuItemAtIndex: function () { return undefined; },\n                getMenuItemCount: function () { return 0; },\n                getMenuItemValues: function () { return []; },\n                getMenuItemTextAtIndex: function () { return ''; },\n                isTypeaheadInProgress: function () { return false; },\n                typeaheadMatchItem: function () { return -1; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /** Returns the index of the currently selected menu item, or -1 if none. */\n    MDCSelectFoundation.prototype.getSelectedIndex = function () {\n        return this.adapter.getSelectedIndex();\n    };\n    MDCSelectFoundation.prototype.setSelectedIndex = function (index, closeMenu, skipNotify) {\n        if (closeMenu === void 0) { closeMenu = false; }\n        if (skipNotify === void 0) { skipNotify = false; }\n        if (index >= this.adapter.getMenuItemCount()) {\n            return;\n        }\n        if (index === numbers.UNSET_INDEX) {\n            this.adapter.setSelectedText('');\n        }\n        else {\n            this.adapter.setSelectedText(this.adapter.getMenuItemTextAtIndex(index).trim());\n        }\n        this.adapter.setSelectedIndex(index);\n        if (closeMenu) {\n            this.adapter.closeMenu();\n        }\n        if (!skipNotify && this.lastSelectedIndex !== index) {\n            this.handleChange();\n        }\n        this.lastSelectedIndex = index;\n    };\n    MDCSelectFoundation.prototype.setValue = function (value, skipNotify) {\n        if (skipNotify === void 0) { skipNotify = false; }\n        var index = this.adapter.getMenuItemValues().indexOf(value);\n        this.setSelectedIndex(index, /** closeMenu */ false, skipNotify);\n    };\n    MDCSelectFoundation.prototype.getValue = function () {\n        var index = this.adapter.getSelectedIndex();\n        var menuItemValues = this.adapter.getMenuItemValues();\n        return index !== numbers.UNSET_INDEX ? menuItemValues[index] : '';\n    };\n    MDCSelectFoundation.prototype.getDisabled = function () {\n        return this.disabled;\n    };\n    MDCSelectFoundation.prototype.setDisabled = function (isDisabled) {\n        this.disabled = isDisabled;\n        if (this.disabled) {\n            this.adapter.addClass(cssClasses.DISABLED);\n            this.adapter.closeMenu();\n        }\n        else {\n            this.adapter.removeClass(cssClasses.DISABLED);\n        }\n        if (this.leadingIcon) {\n            this.leadingIcon.setDisabled(this.disabled);\n        }\n        if (this.disabled) {\n            // Prevent click events from focusing select. Simply pointer-events: none\n            // is not enough since screenreader clicks may bypass this.\n            this.adapter.removeSelectAnchorAttr('tabindex');\n        }\n        else {\n            this.adapter.setSelectAnchorAttr('tabindex', '0');\n        }\n        this.adapter.setSelectAnchorAttr('aria-disabled', this.disabled.toString());\n    };\n    /** Opens the menu. */\n    MDCSelectFoundation.prototype.openMenu = function () {\n        this.adapter.addClass(cssClasses.ACTIVATED);\n        this.adapter.openMenu();\n        this.isMenuOpen = true;\n        this.adapter.setSelectAnchorAttr('aria-expanded', 'true');\n    };\n    /**\n     * @param content Sets the content of the helper text.\n     */\n    MDCSelectFoundation.prototype.setHelperTextContent = function (content) {\n        if (this.helperText) {\n            this.helperText.setContent(content);\n        }\n    };\n    /**\n     * Re-calculates if the notched outline should be notched and if the label\n     * should float.\n     */\n    MDCSelectFoundation.prototype.layout = function () {\n        if (this.adapter.hasLabel()) {\n            var optionHasValue = this.getValue().length > 0;\n            var isFocused = this.adapter.hasClass(cssClasses.FOCUSED);\n            var shouldFloatAndNotch = optionHasValue || isFocused;\n            var isRequired = this.adapter.hasClass(cssClasses.REQUIRED);\n            this.notchOutline(shouldFloatAndNotch);\n            this.adapter.floatLabel(shouldFloatAndNotch);\n            this.adapter.setLabelRequired(isRequired);\n        }\n    };\n    /**\n     * Synchronizes the list of options with the state of the foundation. Call\n     * this whenever menu options are dynamically updated.\n     */\n    MDCSelectFoundation.prototype.layoutOptions = function () {\n        var menuItemValues = this.adapter.getMenuItemValues();\n        var selectedIndex = menuItemValues.indexOf(this.getValue());\n        this.setSelectedIndex(selectedIndex, /** closeMenu */ false, /** skipNotify */ true);\n    };\n    MDCSelectFoundation.prototype.handleMenuOpened = function () {\n        if (this.adapter.getMenuItemValues().length === 0) {\n            return;\n        }\n        // Menu should open to the last selected element, should open to first menu item otherwise.\n        var selectedIndex = this.getSelectedIndex();\n        var focusItemIndex = selectedIndex >= 0 ? selectedIndex : 0;\n        this.adapter.focusMenuItemAtIndex(focusItemIndex);\n    };\n    MDCSelectFoundation.prototype.handleMenuClosing = function () {\n        this.adapter.setSelectAnchorAttr('aria-expanded', 'false');\n    };\n    MDCSelectFoundation.prototype.handleMenuClosed = function () {\n        this.adapter.removeClass(cssClasses.ACTIVATED);\n        this.isMenuOpen = false;\n        // Unfocus the select if menu is closed without a selection\n        if (!this.adapter.isSelectAnchorFocused()) {\n            this.blur();\n        }\n    };\n    /**\n     * Handles value changes, via change event or programmatic updates.\n     */\n    MDCSelectFoundation.prototype.handleChange = function () {\n        this.layout();\n        this.adapter.notifyChange(this.getValue());\n        var isRequired = this.adapter.hasClass(cssClasses.REQUIRED);\n        if (isRequired && this.useDefaultValidation) {\n            this.setValid(this.isValid());\n        }\n    };\n    MDCSelectFoundation.prototype.handleMenuItemAction = function (index) {\n        this.setSelectedIndex(index, /** closeMenu */ true);\n    };\n    /**\n     * Handles focus events from select element.\n     */\n    MDCSelectFoundation.prototype.handleFocus = function () {\n        this.adapter.addClass(cssClasses.FOCUSED);\n        this.layout();\n        this.adapter.activateBottomLine();\n    };\n    /**\n     * Handles blur events from select element.\n     */\n    MDCSelectFoundation.prototype.handleBlur = function () {\n        if (this.isMenuOpen) {\n            return;\n        }\n        this.blur();\n    };\n    MDCSelectFoundation.prototype.handleClick = function (normalizedX) {\n        if (this.disabled || this.recentlyClicked) {\n            return;\n        }\n        this.setClickDebounceTimeout();\n        if (this.isMenuOpen) {\n            this.adapter.closeMenu();\n            return;\n        }\n        this.adapter.setRippleCenter(normalizedX);\n        this.openMenu();\n    };\n    /**\n     * Handles keydown events on select element. Depending on the type of\n     * character typed, does typeahead matching or opens menu.\n     */\n    MDCSelectFoundation.prototype.handleKeydown = function (event) {\n        if (this.isMenuOpen || !this.adapter.hasClass(cssClasses.FOCUSED)) {\n            return;\n        }\n        var isEnter = normalizeKey(event) === KEY.ENTER;\n        var isSpace = normalizeKey(event) === KEY.SPACEBAR;\n        var arrowUp = normalizeKey(event) === KEY.ARROW_UP;\n        var arrowDown = normalizeKey(event) === KEY.ARROW_DOWN;\n        var isModifier = event.ctrlKey || event.metaKey;\n        // Typeahead\n        if (!isModifier &&\n            (!isSpace && event.key && event.key.length === 1 ||\n                isSpace && this.adapter.isTypeaheadInProgress())) {\n            var key = isSpace ? ' ' : event.key;\n            var typeaheadNextIndex = this.adapter.typeaheadMatchItem(key, this.getSelectedIndex());\n            if (typeaheadNextIndex >= 0) {\n                this.setSelectedIndex(typeaheadNextIndex);\n            }\n            event.preventDefault();\n            return;\n        }\n        if (!isEnter && !isSpace && !arrowUp && !arrowDown) {\n            return;\n        }\n        this.openMenu();\n        event.preventDefault();\n    };\n    /**\n     * Opens/closes the notched outline.\n     */\n    MDCSelectFoundation.prototype.notchOutline = function (openNotch) {\n        if (!this.adapter.hasOutline()) {\n            return;\n        }\n        var isFocused = this.adapter.hasClass(cssClasses.FOCUSED);\n        if (openNotch) {\n            var labelScale = numbers.LABEL_SCALE;\n            var labelWidth = this.adapter.getLabelWidth() * labelScale;\n            this.adapter.notchOutline(labelWidth);\n        }\n        else if (!isFocused) {\n            this.adapter.closeOutline();\n        }\n    };\n    /**\n     * Sets the aria label of the leading icon.\n     */\n    MDCSelectFoundation.prototype.setLeadingIconAriaLabel = function (label) {\n        if (this.leadingIcon) {\n            this.leadingIcon.setAriaLabel(label);\n        }\n    };\n    /**\n     * Sets the text content of the leading icon.\n     */\n    MDCSelectFoundation.prototype.setLeadingIconContent = function (content) {\n        if (this.leadingIcon) {\n            this.leadingIcon.setContent(content);\n        }\n    };\n    MDCSelectFoundation.prototype.getUseDefaultValidation = function () {\n        return this.useDefaultValidation;\n    };\n    MDCSelectFoundation.prototype.setUseDefaultValidation = function (useDefaultValidation) {\n        this.useDefaultValidation = useDefaultValidation;\n    };\n    MDCSelectFoundation.prototype.setValid = function (isValid) {\n        if (!this.useDefaultValidation) {\n            this.customValidity = isValid;\n        }\n        this.adapter.setSelectAnchorAttr('aria-invalid', (!isValid).toString());\n        if (isValid) {\n            this.adapter.removeClass(cssClasses.INVALID);\n            this.adapter.removeMenuClass(cssClasses.MENU_INVALID);\n        }\n        else {\n            this.adapter.addClass(cssClasses.INVALID);\n            this.adapter.addMenuClass(cssClasses.MENU_INVALID);\n        }\n        this.syncHelperTextValidity(isValid);\n    };\n    MDCSelectFoundation.prototype.isValid = function () {\n        if (this.useDefaultValidation &&\n            this.adapter.hasClass(cssClasses.REQUIRED) &&\n            !this.adapter.hasClass(cssClasses.DISABLED)) {\n            // See notes for required attribute under https://www.w3.org/TR/html52/sec-forms.html#the-select-element\n            // TL;DR: Invalid if no index is selected, or if the first index is selected and has an empty value.\n            return this.getSelectedIndex() !== numbers.UNSET_INDEX &&\n                (this.getSelectedIndex() !== 0 || Boolean(this.getValue()));\n        }\n        return this.customValidity;\n    };\n    MDCSelectFoundation.prototype.setRequired = function (isRequired) {\n        if (isRequired) {\n            this.adapter.addClass(cssClasses.REQUIRED);\n        }\n        else {\n            this.adapter.removeClass(cssClasses.REQUIRED);\n        }\n        this.adapter.setSelectAnchorAttr('aria-required', isRequired.toString());\n        this.adapter.setLabelRequired(isRequired);\n    };\n    MDCSelectFoundation.prototype.getRequired = function () {\n        return this.adapter.getSelectAnchorAttr('aria-required') === 'true';\n    };\n    MDCSelectFoundation.prototype.init = function () {\n        var anchorEl = this.adapter.getAnchorElement();\n        if (anchorEl) {\n            this.adapter.setMenuAnchorElement(anchorEl);\n            this.adapter.setMenuAnchorCorner(Corner.BOTTOM_START);\n        }\n        this.adapter.setMenuWrapFocus(false);\n        this.setDisabled(this.adapter.hasClass(cssClasses.DISABLED));\n        this.syncHelperTextValidity(!this.adapter.hasClass(cssClasses.INVALID));\n        this.layout();\n        this.layoutOptions();\n    };\n    /**\n     * Unfocuses the select component.\n     */\n    MDCSelectFoundation.prototype.blur = function () {\n        this.adapter.removeClass(cssClasses.FOCUSED);\n        this.layout();\n        this.adapter.deactivateBottomLine();\n        var isRequired = this.adapter.hasClass(cssClasses.REQUIRED);\n        if (isRequired && this.useDefaultValidation) {\n            this.setValid(this.isValid());\n        }\n    };\n    MDCSelectFoundation.prototype.syncHelperTextValidity = function (isValid) {\n        if (!this.helperText) {\n            return;\n        }\n        this.helperText.setValidity(isValid);\n        var helperTextVisible = this.helperText.isVisible();\n        var helperTextId = this.helperText.getId();\n        if (helperTextVisible && helperTextId) {\n            this.adapter.setSelectAnchorAttr(strings.ARIA_DESCRIBEDBY, helperTextId);\n        }\n        else {\n            // Needed because screenreaders will read labels pointed to by\n            // `aria-describedby` even if they are `aria-hidden`.\n            this.adapter.removeSelectAnchorAttr(strings.ARIA_DESCRIBEDBY);\n        }\n    };\n    MDCSelectFoundation.prototype.setClickDebounceTimeout = function () {\n        var _this = this;\n        clearTimeout(this.clickDebounceTimeout);\n        this.clickDebounceTimeout = setTimeout(function () {\n            _this.recentlyClicked = false;\n        }, numbers.CLICK_DEBOUNCE_TIMEOUT_MS);\n        this.recentlyClicked = true;\n    };\n    return MDCSelectFoundation;\n}(MDCFoundation));\nexport { MDCSelectFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCSelectFoundation;\n//# sourceMappingURL=foundation.js.map","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar strings = {\n    ARIA_HIDDEN: 'aria-hidden',\n    ROLE: 'role',\n};\nvar cssClasses = {\n    HELPER_TEXT_VALIDATION_MSG: 'mdc-select-helper-text--validation-msg',\n    HELPER_TEXT_VALIDATION_MSG_PERSISTENT: 'mdc-select-helper-text--validation-msg-persistent',\n};\nexport { strings, cssClasses };\n//# sourceMappingURL=constants.js.map","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport { __assign, __extends } from \"tslib\";\nimport { MDCFoundation } from '@material/base/foundation';\nimport { cssClasses, strings } from './constants';\nvar MDCSelectHelperTextFoundation = /** @class */ (function (_super) {\n    __extends(MDCSelectHelperTextFoundation, _super);\n    function MDCSelectHelperTextFoundation(adapter) {\n        return _super.call(this, __assign(__assign({}, MDCSelectHelperTextFoundation.defaultAdapter), adapter)) || this;\n    }\n    Object.defineProperty(MDCSelectHelperTextFoundation, \"cssClasses\", {\n        get: function () {\n            return cssClasses;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCSelectHelperTextFoundation, \"strings\", {\n        get: function () {\n            return strings;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MDCSelectHelperTextFoundation, \"defaultAdapter\", {\n        /**\n         * See {@link MDCSelectHelperTextAdapter} for typing information on parameters and return types.\n         */\n        get: function () {\n            // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n            return {\n                addClass: function () { return undefined; },\n                removeClass: function () { return undefined; },\n                hasClass: function () { return false; },\n                setAttr: function () { return undefined; },\n                getAttr: function () { return null; },\n                removeAttr: function () { return undefined; },\n                setContent: function () { return undefined; },\n            };\n            // tslint:enable:object-literal-sort-keys\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @return The ID of the helper text, or null if none is set.\n     */\n    MDCSelectHelperTextFoundation.prototype.getId = function () {\n        return this.adapter.getAttr('id');\n    };\n    /**\n     * @return Whether the helper text is currently visible.\n     */\n    MDCSelectHelperTextFoundation.prototype.isVisible = function () {\n        return this.adapter.getAttr(strings.ARIA_HIDDEN) !== 'true';\n    };\n    /**\n     * Sets the content of the helper text field.\n     */\n    MDCSelectHelperTextFoundation.prototype.setContent = function (content) {\n        this.adapter.setContent(content);\n    };\n    /**\n     * Sets the helper text to act as a validation message.\n     * By default, validation messages are hidden when the select is valid and\n     * visible when the select is invalid.\n     *\n     * @param isValidation True to make the helper text act as an error validation\n     *     message.\n     */\n    MDCSelectHelperTextFoundation.prototype.setValidation = function (isValidation) {\n        if (isValidation) {\n            this.adapter.addClass(cssClasses.HELPER_TEXT_VALIDATION_MSG);\n        }\n        else {\n            this.adapter.removeClass(cssClasses.HELPER_TEXT_VALIDATION_MSG);\n        }\n    };\n    /**\n     * Sets the persistency of the validation helper text.\n     * This keeps the validation message visible even if the select is valid,\n     * though it will be displayed in the normal (grey) color.\n     */\n    MDCSelectHelperTextFoundation.prototype.setValidationMsgPersistent = function (isPersistent) {\n        if (isPersistent) {\n            this.adapter.addClass(cssClasses.HELPER_TEXT_VALIDATION_MSG_PERSISTENT);\n        }\n        else {\n            this.adapter.removeClass(cssClasses.HELPER_TEXT_VALIDATION_MSG_PERSISTENT);\n        }\n    };\n    /**\n     * @return Whether the helper text acts as a validation message.\n     * By default, validation messages are hidden when the select is valid and\n     * visible when the select is invalid.\n     */\n    MDCSelectHelperTextFoundation.prototype.getIsValidation = function () {\n        return this.adapter.hasClass(cssClasses.HELPER_TEXT_VALIDATION_MSG);\n    };\n    /**\n     * @return Whether the validation helper text persists even if the input is\n     * valid. If it is, it will be displayed in the normal (grey) color.\n     */\n    MDCSelectHelperTextFoundation.prototype.getIsValidationMsgPersistent = function () {\n        return this.adapter.hasClass(cssClasses.HELPER_TEXT_VALIDATION_MSG_PERSISTENT);\n    };\n    /**\n     * When acting as a validation message, shows/hides the helper text and\n     * triggers alerts as necessary based on the select's validity.\n     */\n    MDCSelectHelperTextFoundation.prototype.setValidity = function (selectIsValid) {\n        var isValidationMsg = this.adapter.hasClass(cssClasses.HELPER_TEXT_VALIDATION_MSG);\n        if (!isValidationMsg) {\n            // Non-validating helper-text is always displayed and does not participate\n            // in validation logic.\n            return;\n        }\n        var isPersistentValidationMsg = this.adapter.hasClass(cssClasses.HELPER_TEXT_VALIDATION_MSG_PERSISTENT);\n        // Validating helper text is displayed if select is invalid, unless it is\n        // set as persistent, in which case it always displays.\n        var msgShouldDisplay = !selectIsValid || isPersistentValidationMsg;\n        if (msgShouldDisplay) {\n            this.showToScreenReader();\n            // In addition to displaying, also trigger an alert if the select\n            // has become invalid.\n            if (!selectIsValid) {\n                this.adapter.setAttr(strings.ROLE, 'alert');\n            }\n            else {\n                this.adapter.removeAttr(strings.ROLE);\n            }\n            return;\n        }\n        // Hide everything.\n        this.adapter.removeAttr(strings.ROLE);\n        this.hide();\n    };\n    /**\n     * Makes the helper text visible to screen readers.\n     */\n    MDCSelectHelperTextFoundation.prototype.showToScreenReader = function () {\n        this.adapter.removeAttr(strings.ARIA_HIDDEN);\n    };\n    /**\n     * Hides the help text from screen readers.\n     */\n    MDCSelectHelperTextFoundation.prototype.hide = function () {\n        this.adapter.setAttr(strings.ARIA_HIDDEN, 'true');\n    };\n    return MDCSelectHelperTextFoundation;\n}(MDCFoundation));\nexport { MDCSelectHelperTextFoundation };\n// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\nexport default MDCSelectHelperTextFoundation;\n//# sourceMappingURL=foundation.js.map","<svelte:body on:click|capture={handleBodyClick} />\n\n<div\n  bind:this={element}\n  use:useActions={use}\n  use:forwardEvents\n  class={classMap({\n    [className]: true,\n    'mdc-menu-surface': true,\n    'mdc-menu-surface--fixed': fixed,\n    'mdc-menu-surface--open': isStatic,\n    'smui-menu-surface--static': isStatic,\n    'mdc-menu-surface--fullwidth': fullWidth,\n    ...internalClasses,\n  })}\n  style={Object.entries(internalStyles)\n    .map(([name, value]) => `${name}: ${value};`)\n    .concat([style])\n    .join(' ')}\n  on:keydown={instance && instance.handleKeydown.bind(instance)}\n  {...$$restProps}\n>\n  <slot />\n</div>\n\n<script>var _a, _b, _c;\nimport { MDCMenuSurfaceFoundation } from '@material/menu-surface';\nimport { onMount, onDestroy, setContext } from 'svelte';\nimport { get_current_component } from 'svelte/internal';\nimport { forwardEventsBuilder, classMap, useActions, dispatch, } from '@smui/common/internal';\nimport { Corner } from './MenuSurface.types.js';\nconst forwardEvents = forwardEventsBuilder(get_current_component());\n// Remember to update $$Props if you add/remove/rename props.\nexport let use = [];\nlet className = '';\nexport { className as class };\nexport let style = '';\nlet isStatic = false;\nexport { isStatic as static };\nexport let anchor = true;\nexport let fixed = false;\nexport let open = isStatic;\n/**\n * A managed menu surface means you completely control the open state. The\n * component will never alter it on its own.\n */\nexport let managed = false;\nexport let fullWidth = false;\nexport let quickOpen = false;\nexport let anchorElement = undefined;\nexport let anchorCorner = undefined;\nexport let anchorMargin = { top: 0, right: 0, bottom: 0, left: 0 };\nexport let maxHeight = 0;\nexport let horizontallyCenteredOnViewport = false;\nexport let openBottomBias = 0;\nlet element;\nlet instance;\nlet internalClasses = {};\nlet internalStyles = {};\nlet previousFocus = undefined;\nsetContext('SMUI:list:role', 'menu');\nsetContext('SMUI:list:item:role', 'menuitem');\n$: if (element &&\n    anchor &&\n    !((_a = element.parentElement) === null || _a === void 0 ? void 0 : _a.classList.contains('mdc-menu-surface--anchor'))) {\n    (_b = element.parentElement) === null || _b === void 0 ? void 0 : _b.classList.add('mdc-menu-surface--anchor');\n    anchorElement = (_c = element.parentElement) !== null && _c !== void 0 ? _c : undefined;\n}\n$: if (instance && instance.isOpen() !== open) {\n    if (open) {\n        instance.open();\n    }\n    else {\n        instance.close();\n    }\n}\n$: if (instance) {\n    instance.setQuickOpen(quickOpen);\n}\n$: if (instance) {\n    instance.setFixedPosition(fixed);\n}\n$: if (instance) {\n    instance.setMaxHeight(maxHeight);\n}\n$: if (instance) {\n    instance.setIsHorizontallyCenteredOnViewport(horizontallyCenteredOnViewport);\n}\nconst iCorner = Corner;\n$: if (instance && anchorCorner != null) {\n    if (typeof anchorCorner === 'string') {\n        instance.setAnchorCorner(iCorner[anchorCorner]);\n    }\n    else {\n        instance.setAnchorCorner(anchorCorner);\n    }\n}\n$: if (instance) {\n    instance.setAnchorMargin(anchorMargin);\n}\n$: if (instance) {\n    instance.setOpenBottomBias(openBottomBias);\n}\nonMount(() => {\n    instance = new MDCMenuSurfaceFoundation({\n        addClass,\n        removeClass,\n        hasClass,\n        hasAnchor: () => !!anchorElement,\n        notifyClose: () => {\n            if (!managed) {\n                open = isStatic;\n            }\n            if (!open) {\n                dispatch(element, 'SMUIMenuSurface:closed', undefined, undefined, true);\n            }\n        },\n        notifyClosing: () => {\n            if (!managed) {\n                open = isStatic;\n            }\n            if (!open) {\n                dispatch(element, 'SMUIMenuSurface:closing', undefined, undefined, true);\n            }\n        },\n        notifyOpen: () => {\n            if (!managed) {\n                open = true;\n            }\n            if (open) {\n                dispatch(element, 'SMUIMenuSurface:opened', undefined, undefined, true);\n            }\n        },\n        notifyOpening: () => {\n            if (!open) {\n                dispatch(element, 'SMUIMenuSurface:opening', undefined, undefined, true);\n            }\n        },\n        isElementInContainer: (el) => element.contains(el),\n        isRtl: () => getComputedStyle(element).getPropertyValue('direction') === 'rtl',\n        setTransformOrigin: (origin) => {\n            internalStyles['transform-origin'] = origin;\n        },\n        isFocused: () => document.activeElement === element,\n        saveFocus: () => {\n            var _a;\n            previousFocus = (_a = document.activeElement) !== null && _a !== void 0 ? _a : undefined;\n        },\n        restoreFocus: () => {\n            if ((!element || element.contains(document.activeElement)) &&\n                previousFocus &&\n                document.contains(previousFocus) &&\n                'focus' in previousFocus) {\n                previousFocus.focus();\n            }\n        },\n        getInnerDimensions: () => {\n            return {\n                width: element.offsetWidth,\n                height: element.offsetHeight,\n            };\n        },\n        getAnchorDimensions: () => anchorElement ? anchorElement.getBoundingClientRect() : null,\n        getWindowDimensions: () => {\n            return { width: window.innerWidth, height: window.innerHeight };\n        },\n        getBodyDimensions: () => {\n            return {\n                width: document.body.clientWidth,\n                height: document.body.clientHeight,\n            };\n        },\n        getWindowScroll: () => {\n            return { x: window.pageXOffset, y: window.pageYOffset };\n        },\n        setPosition: (position) => {\n            internalStyles.left = 'left' in position ? `${position.left}px` : '';\n            internalStyles.right = 'right' in position ? `${position.right}px` : '';\n            internalStyles.top = 'top' in position ? `${position.top}px` : '';\n            internalStyles.bottom =\n                'bottom' in position ? `${position.bottom}px` : '';\n        },\n        setMaxHeight: (height) => {\n            internalStyles['max-height'] = height;\n        },\n    });\n    const accessor = {\n        get open() {\n            return open;\n        },\n        set open(value) {\n            open = value;\n        },\n        closeProgrammatic,\n    };\n    dispatch(element, 'SMUIMenuSurface:mount', accessor);\n    instance.init();\n    return () => {\n        var _a;\n        const isHoisted = instance.isHoistedElement;\n        instance.destroy();\n        if (isHoisted) {\n            (_a = element.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(element);\n        }\n    };\n});\nonDestroy(() => {\n    var _a;\n    if (anchor) {\n        element &&\n            ((_a = element.parentElement) === null || _a === void 0 ? void 0 : _a.classList.remove('mdc-menu-surface--anchor'));\n    }\n});\nfunction hasClass(className) {\n    return className in internalClasses\n        ? internalClasses[className]\n        : getElement().classList.contains(className);\n}\nfunction addClass(className) {\n    if (!internalClasses[className]) {\n        internalClasses[className] = true;\n    }\n}\nfunction removeClass(className) {\n    if (!(className in internalClasses) || internalClasses[className]) {\n        internalClasses[className] = false;\n    }\n}\nfunction closeProgrammatic(skipRestoreFocus) {\n    instance.close(skipRestoreFocus);\n    open = false;\n}\nfunction handleBodyClick(event) {\n    if (instance && open && !managed) {\n        instance.handleBodyClick(event);\n    }\n}\nexport function isOpen() {\n    return open;\n}\nexport function setOpen(value) {\n    open = value;\n}\nexport function setAbsolutePosition(x, y) {\n    return instance.setAbsolutePosition(x, y);\n}\nexport function setIsHoisted(isHoisted) {\n    return instance.setIsHoisted(isHoisted);\n}\nexport function isFixed() {\n    return instance.isFixed();\n}\nexport function getElement() {\n    return element;\n}\n</script>\n","export default function Anchor(node, { addClass = (className) => node.classList.add(className), removeClass = (className) => node.classList.remove(className), } = {}) {\n    addClass('mdc-menu-surface--anchor');\n    return {\n        destroy() {\n            removeClass('mdc-menu-surface--anchor');\n        },\n    };\n}\n//# sourceMappingURL=Anchor.js.map","<MenuSurface\n  bind:this={element}\n  use={usePass}\n  class={classMap({\n    [className]: true,\n    'mdc-menu': true,\n  })}\n  bind:open\n  on:SMUIMenuSurface:mount={handleMenuSurfaceAccessor}\n  on:SMUIList:mount={handleListAccessor}\n  on:SMUIMenuSurface:opened={() =>\n    instance && instance.handleMenuSurfaceOpened()}\n  on:keydown={handleKeydown}\n  on:SMUIList:action={(event) =>\n    instance &&\n    instance.handleItemAction(\n      listAccessor.getOrderedList()[event.detail.index].element\n    )}\n  {...$$restProps}><slot /></MenuSurface\n>\n\n<script>import { MDCMenuFoundation, cssClasses } from '@material/menu';\nimport { ponyfill } from '@material/dom';\nimport { onMount } from 'svelte';\nimport { get_current_component } from 'svelte/internal';\nimport { forwardEventsBuilder, classMap, dispatch, } from '@smui/common/internal';\nimport MenuSurface from '@smui/menu-surface';\nconst { closest } = ponyfill;\nconst forwardEvents = forwardEventsBuilder(get_current_component());\nexport let use = [];\n$: usePass = [forwardEvents, ...use];\nlet className = '';\nexport { className as class };\nexport let open = false;\nlet element;\nlet instance;\nlet menuSurfaceAccessor;\nlet listAccessor;\nonMount(() => {\n    instance = new MDCMenuFoundation({\n        addClassToElementAtIndex: (index, className) => {\n            listAccessor.addClassForElementIndex(index, className);\n        },\n        removeClassFromElementAtIndex: (index, className) => {\n            listAccessor.removeClassForElementIndex(index, className);\n        },\n        addAttributeToElementAtIndex: (index, attr, value) => {\n            listAccessor.setAttributeForElementIndex(index, attr, value);\n        },\n        removeAttributeFromElementAtIndex: (index, attr) => {\n            listAccessor.removeAttributeForElementIndex(index, attr);\n        },\n        getAttributeFromElementAtIndex: (index, attr) => listAccessor.getAttributeFromElementIndex(index, attr),\n        elementContainsClass: (element, className) => element.classList.contains(className),\n        closeSurface: (skipRestoreFocus) => menuSurfaceAccessor.closeProgrammatic(skipRestoreFocus),\n        getElementIndex: (element) => listAccessor\n            .getOrderedList()\n            .map((accessor) => accessor.element)\n            .indexOf(element),\n        notifySelected: (evtData) => dispatch(getElement(), 'SMUIMenu:selected', {\n            index: evtData.index,\n            item: listAccessor.getOrderedList()[evtData.index].element,\n        }, undefined, true),\n        getMenuItemCount: () => listAccessor.items.length,\n        focusItemAtIndex: (index) => listAccessor.focusItemAtIndex(index),\n        focusListRoot: () => 'focus' in listAccessor.element &&\n            listAccessor.element.focus(),\n        isSelectableItemAtIndex: (index) => !!closest(listAccessor.getOrderedList()[index].element, `.${cssClasses.MENU_SELECTION_GROUP}`),\n        getSelectedSiblingOfItemAtIndex: (index) => {\n            const orderedList = listAccessor.getOrderedList();\n            const selectionGroupEl = closest(orderedList[index].element, `.${cssClasses.MENU_SELECTION_GROUP}`);\n            const selectedItemEl = selectionGroupEl === null || selectionGroupEl === void 0 ? void 0 : selectionGroupEl.querySelector(`.${cssClasses.MENU_SELECTED_LIST_ITEM}`);\n            return selectedItemEl\n                ? orderedList.map((item) => item.element).indexOf(selectedItemEl)\n                : -1;\n        },\n    });\n    dispatch(getElement(), 'SMUIMenu:mount', instance);\n    instance.init();\n    return () => {\n        instance.destroy();\n    };\n});\nfunction handleKeydown(event) {\n    instance && instance.handleKeydown(event);\n}\nfunction handleMenuSurfaceAccessor(event) {\n    if (!menuSurfaceAccessor) {\n        menuSurfaceAccessor = event.detail;\n    }\n}\nfunction handleListAccessor(event) {\n    if (!listAccessor) {\n        listAccessor = event.detail;\n    }\n}\nexport function isOpen() {\n    return open;\n}\nexport function setOpen(value) {\n    open = value;\n}\nexport function setDefaultFocusState(focusState) {\n    instance.setDefaultFocusState(focusState);\n}\nexport function getSelectedIndex() {\n    return instance.getSelectedIndex();\n}\nexport function getMenuSurface() {\n    return element;\n}\nexport function getElement() {\n    return element.getElement();\n}\n</script>\n","<svelte:component\n  this={component}\n  {tag}\n  bind:this={element}\n  use={[forwardEvents, ...use]}\n  class={classMap({\n    [className]: true,\n    'mdc-deprecated-list': true,\n    'mdc-deprecated-list--non-interactive': nonInteractive,\n    'mdc-deprecated-list--dense': dense,\n    'mdc-deprecated-list--textual-list': textualList,\n    'mdc-deprecated-list--avatar-list': avatarList || selectionDialog,\n    'mdc-deprecated-list--icon-list': iconList,\n    'mdc-deprecated-list--image-list': imageList,\n    'mdc-deprecated-list--thumbnail-list': thumbnailList,\n    'mdc-deprecated-list--video-list': videoList,\n    'mdc-deprecated-list--two-line': twoLine,\n    'smui-list--three-line': threeLine && !twoLine,\n  })}\n  {role}\n  on:keydown={handleKeydown}\n  on:focusin={handleFocusin}\n  on:focusout={handleFocusout}\n  on:click={handleClick}\n  on:SMUIListItem:mount={handleItemMount}\n  on:SMUIListItem:unmount={handleItemUnmount}\n  on:SMUI:action={handleAction}\n  {...$$restProps}\n>\n  <slot />\n</svelte:component>\n\n<script>var _a;\nimport { MDCListFoundation } from '@material/list';\nimport { ponyfill } from '@material/dom';\nimport { onMount, onDestroy, getContext, setContext } from 'svelte';\nimport { get_current_component } from 'svelte/internal';\nimport { forwardEventsBuilder, classMap, dispatch, } from '@smui/common/internal';\nimport { SmuiElement } from '@smui/common';\nconst { closest, matches } = ponyfill;\nconst forwardEvents = forwardEventsBuilder(get_current_component());\n// Remember to update $$Props if you add/remove/rename props.\nexport let use = [];\nlet className = '';\nexport { className as class };\nexport let nonInteractive = false;\nexport let dense = false;\nexport let textualList = false;\nexport let avatarList = false;\nexport let iconList = false;\nexport let imageList = false;\nexport let thumbnailList = false;\nexport let videoList = false;\nexport let twoLine = false;\nexport let threeLine = false;\nexport let vertical = true;\nexport let wrapFocus = (_a = getContext('SMUI:list:wrapFocus')) !== null && _a !== void 0 ? _a : false;\nexport let singleSelection = false;\nexport let disabledItemsFocusable = false;\nexport let selectedIndex = -1;\nexport let radioList = false;\nexport let checkList = false;\nexport let hasTypeahead = false;\nlet element;\nlet instance;\nlet items = [];\nlet role = getContext('SMUI:list:role');\nlet nav = getContext('SMUI:list:nav');\nconst itemAccessorMap = new WeakMap();\nlet selectionDialog = getContext('SMUI:dialog:selection');\nlet addLayoutListener = getContext('SMUI:addLayoutListener');\nlet removeLayoutListener;\nexport let component = SmuiElement;\nexport let tag = (component === SmuiElement\n    ? nav\n        ? 'nav'\n        : 'ul'\n    : undefined);\nsetContext('SMUI:list:nonInteractive', nonInteractive);\nsetContext('SMUI:separator:context', 'list');\nif (!role) {\n    if (singleSelection) {\n        role = 'listbox';\n        setContext('SMUI:list:item:role', 'option');\n    }\n    else if (radioList) {\n        role = 'radiogroup';\n        setContext('SMUI:list:item:role', 'radio');\n    }\n    else if (checkList) {\n        role = 'group';\n        setContext('SMUI:list:item:role', 'checkbox');\n    }\n    else {\n        role = 'list';\n        setContext('SMUI:list:item:role', undefined);\n    }\n}\n$: if (instance) {\n    instance.setVerticalOrientation(vertical);\n}\n$: if (instance) {\n    instance.setWrapFocus(wrapFocus);\n}\n$: if (instance) {\n    instance.setHasTypeahead(hasTypeahead);\n}\n$: if (instance) {\n    instance.setSingleSelection(singleSelection);\n}\n$: if (instance) {\n    instance.setDisabledItemsFocusable(disabledItemsFocusable);\n}\n$: if (instance && singleSelection && getSelectedIndex() !== selectedIndex) {\n    instance.setSelectedIndex(selectedIndex);\n}\nif (addLayoutListener) {\n    removeLayoutListener = addLayoutListener(layout);\n}\nonMount(() => {\n    instance = new MDCListFoundation({\n        addClassForElementIndex,\n        focusItemAtIndex,\n        getAttributeForElementIndex: (index, name) => { var _a, _b; return (_b = (_a = getOrderedList()[index]) === null || _a === void 0 ? void 0 : _a.getAttr(name)) !== null && _b !== void 0 ? _b : null; },\n        getFocusedElementIndex: () => document.activeElement\n            ? getOrderedList()\n                .map((accessor) => accessor.element)\n                .indexOf(document.activeElement)\n            : -1,\n        getListItemCount: () => items.length,\n        getPrimaryTextAtIndex,\n        hasCheckboxAtIndex: (index) => { var _a, _b; return (_b = (_a = getOrderedList()[index]) === null || _a === void 0 ? void 0 : _a.hasCheckbox) !== null && _b !== void 0 ? _b : false; },\n        hasRadioAtIndex: (index) => { var _a, _b; return (_b = (_a = getOrderedList()[index]) === null || _a === void 0 ? void 0 : _a.hasRadio) !== null && _b !== void 0 ? _b : false; },\n        isCheckboxCheckedAtIndex: (index) => {\n            var _a;\n            const listItem = getOrderedList()[index];\n            return (_a = ((listItem === null || listItem === void 0 ? void 0 : listItem.hasCheckbox) && listItem.checked)) !== null && _a !== void 0 ? _a : false;\n        },\n        isFocusInsideList: () => element != null &&\n            getElement() !== document.activeElement &&\n            getElement().contains(document.activeElement),\n        isRootFocused: () => element != null && document.activeElement === getElement(),\n        listItemAtIndexHasClass,\n        notifyAction: (index) => {\n            selectedIndex = index;\n            if (element != null) {\n                dispatch(getElement(), 'SMUIList:action', { index }, undefined, true);\n            }\n        },\n        notifySelectionChange: (changedIndices) => {\n            if (element != null) {\n                dispatch(getElement(), 'SMUIList:selectionChange', {\n                    changedIndices,\n                });\n            }\n        },\n        removeClassForElementIndex,\n        setAttributeForElementIndex,\n        setCheckedCheckboxOrRadioAtIndex: (index, isChecked) => {\n            getOrderedList()[index].checked = isChecked;\n        },\n        setTabIndexForListItemChildren: (listItemIndex, tabIndexValue) => {\n            const listItem = getOrderedList()[listItemIndex];\n            const selector = 'button:not(:disabled), a';\n            Array.prototype.forEach.call(listItem.element.querySelectorAll(selector), (el) => {\n                el.setAttribute('tabindex', tabIndexValue);\n            });\n        },\n    });\n    const accessor = {\n        get element() {\n            return getElement();\n        },\n        get items() {\n            return items;\n        },\n        get typeaheadInProgress() {\n            return instance.isTypeaheadInProgress();\n        },\n        typeaheadMatchItem(nextChar, startingIndex) {\n            return instance.typeaheadMatchItem(nextChar, startingIndex, \n            /** skipFocus */ true);\n        },\n        getOrderedList,\n        focusItemAtIndex,\n        addClassForElementIndex,\n        removeClassForElementIndex,\n        setAttributeForElementIndex,\n        removeAttributeForElementIndex,\n        getAttributeFromElementIndex,\n        getPrimaryTextAtIndex,\n    };\n    dispatch(getElement(), 'SMUIList:mount', accessor);\n    instance.init();\n    instance.layout();\n    return () => {\n        instance.destroy();\n    };\n});\nonDestroy(() => {\n    if (removeLayoutListener) {\n        removeLayoutListener();\n    }\n});\nfunction handleItemMount(event) {\n    items.push(event.detail);\n    itemAccessorMap.set(event.detail.element, event.detail);\n    if (singleSelection && event.detail.selected) {\n        selectedIndex = getListItemIndex(event.detail.element);\n    }\n    event.stopPropagation();\n}\nfunction handleItemUnmount(event) {\n    var _a;\n    const idx = (_a = (event.detail && items.indexOf(event.detail))) !== null && _a !== void 0 ? _a : -1;\n    if (idx !== -1) {\n        items.splice(idx, 1);\n        items = items;\n        itemAccessorMap.delete(event.detail.element);\n    }\n    event.stopPropagation();\n}\nfunction handleKeydown(event) {\n    if (instance && event.target) {\n        instance.handleKeydown(event, event.target.classList.contains('mdc-deprecated-list-item'), getListItemIndex(event.target));\n    }\n}\nfunction handleFocusin(event) {\n    if (instance && event.target) {\n        instance.handleFocusIn(getListItemIndex(event.target));\n    }\n}\nfunction handleFocusout(event) {\n    if (instance && event.target) {\n        instance.handleFocusOut(getListItemIndex(event.target));\n    }\n}\nfunction handleClick(event) {\n    if (instance && event.target) {\n        instance.handleClick(getListItemIndex(event.target), !matches(event.target, 'input[type=\"checkbox\"], input[type=\"radio\"]'), event);\n    }\n}\nfunction handleAction(event) {\n    if (radioList || checkList) {\n        const index = getListItemIndex(event.target);\n        if (index !== -1) {\n            const item = getOrderedList()[index];\n            if (item && ((radioList && !item.checked) || checkList)) {\n                if (!matches(event.detail.target, 'input[type=\"checkbox\"], input[type=\"radio\"]')) {\n                    item.checked = !item.checked;\n                }\n                item.activateRipple();\n                window.requestAnimationFrame(() => {\n                    item.deactivateRipple();\n                });\n            }\n        }\n    }\n}\nfunction getOrderedList() {\n    if (element == null) {\n        return [];\n    }\n    return [...getElement().children]\n        .map((element) => itemAccessorMap.get(element))\n        .filter((accessor) => accessor && accessor._smui_list_item_accessor);\n}\nfunction focusItemAtIndex(index) {\n    const accessor = getOrderedList()[index];\n    accessor &&\n        'focus' in accessor.element &&\n        accessor.element.focus();\n}\nfunction listItemAtIndexHasClass(index, className) {\n    var _a;\n    const accessor = getOrderedList()[index];\n    return (_a = (accessor && accessor.hasClass(className))) !== null && _a !== void 0 ? _a : false;\n}\nfunction addClassForElementIndex(index, className) {\n    const accessor = getOrderedList()[index];\n    accessor && accessor.addClass(className);\n}\nfunction removeClassForElementIndex(index, className) {\n    const accessor = getOrderedList()[index];\n    accessor && accessor.removeClass(className);\n}\nfunction setAttributeForElementIndex(index, name, value) {\n    const accessor = getOrderedList()[index];\n    accessor && accessor.addAttr(name, value);\n}\nfunction removeAttributeForElementIndex(index, name) {\n    const accessor = getOrderedList()[index];\n    accessor && accessor.removeAttr(name);\n}\nfunction getAttributeFromElementIndex(index, name) {\n    const accessor = getOrderedList()[index];\n    if (accessor) {\n        return accessor.getAttr(name);\n    }\n    else {\n        return null;\n    }\n}\nfunction getPrimaryTextAtIndex(index) {\n    var _a;\n    const accessor = getOrderedList()[index];\n    return (_a = (accessor && accessor.getPrimaryText())) !== null && _a !== void 0 ? _a : '';\n}\nfunction getListItemIndex(element) {\n    const nearestParent = closest(element, '.mdc-deprecated-list-item, .mdc-deprecated-list');\n    // Get the index of the element if it is a list item.\n    if (nearestParent && matches(nearestParent, '.mdc-deprecated-list-item')) {\n        return getOrderedList()\n            .map((item) => item === null || item === void 0 ? void 0 : item.element)\n            .indexOf(nearestParent);\n    }\n    return -1;\n}\nexport function layout() {\n    return instance.layout();\n}\nexport function setEnabled(itemIndex, isEnabled) {\n    return instance.setEnabled(itemIndex, isEnabled);\n}\nexport function getTypeaheadInProgress() {\n    return instance.isTypeaheadInProgress();\n}\nexport function getSelectedIndex() {\n    return instance.getSelectedIndex();\n}\nexport function getFocusedItemIndex() {\n    return instance.getFocusedItemIndex();\n}\nexport function getElement() {\n    return element.getElement();\n}\n</script>\n","<svelte:component\n  this={component}\n  {tag}\n  bind:this={element}\n  use={[\n    ...(nonInteractive\n      ? []\n      : [\n          [\n            Ripple,\n            {\n              ripple: !input,\n              unbounded: false,\n              color:\n                (activated || selected) && color == null ? 'primary' : color,\n              disabled,\n              addClass,\n              removeClass,\n              addStyle,\n            },\n          ],\n        ]),\n    forwardEvents,\n    ...use,\n  ]}\n  class={classMap({\n    [className]: true,\n    'mdc-deprecated-list-item': !wrapper,\n    'mdc-deprecated-list-item__wrapper': wrapper,\n    'mdc-deprecated-list-item--activated': activated,\n    'mdc-deprecated-list-item--selected': selected,\n    'mdc-deprecated-list-item--disabled': disabled,\n    'mdc-menu-item--selected': !nav && role === 'menuitem' && selected,\n    'smui-menu-item--non-interactive': nonInteractive,\n    ...internalClasses,\n  })}\n  style={Object.entries(internalStyles)\n    .map(([name, value]) => `${name}: ${value};`)\n    .concat([style])\n    .join(' ')}\n  {...nav && activated ? { 'aria-current': 'page' } : {}}\n  {...!nav || wrapper ? { role } : {}}\n  {...!nav && role === 'option'\n    ? { 'aria-selected': selected ? 'true' : 'false' }\n    : {}}\n  {...!nav && (role === 'radio' || role === 'checkbox')\n    ? { 'aria-checked': input && input.checked ? 'true' : 'false' }\n    : {}}\n  {...!nav ? { 'aria-disabled': disabled ? 'true' : 'false' } : {}}\n  data-menu-item-skip-restore-focus={skipRestoreFocus || undefined}\n  {tabindex}\n  on:click={action}\n  on:keydown={handleKeydown}\n  on:SMUIGenericInput:mount={handleInputMount}\n  on:SMUIGenericInput:unmount={() => (input = undefined)}\n  {href}\n  {...internalAttrs}\n  {...$$restProps}\n  >{#if ripple}<span class=\"mdc-deprecated-list-item__ripple\" />{/if}<slot\n  /></svelte:component\n>\n\n<script context=\"module\">\"use strict\";\nlet counter = 0;\n</script>\n\n<script>var _a;\nimport { onMount, onDestroy, getContext, setContext } from 'svelte';\nimport { get_current_component } from 'svelte/internal';\nimport { forwardEventsBuilder, classMap, dispatch, } from '@smui/common/internal';\nimport Ripple from '@smui/ripple';\nimport { SmuiElement } from '@smui/common';\nconst forwardEvents = forwardEventsBuilder(get_current_component());\nlet uninitializedValue = () => { };\nfunction isUninitializedValue(value) {\n    return value === uninitializedValue;\n}\n// Remember to update $$Props if you add/remove/rename props.\nexport let use = [];\nlet className = '';\nexport { className as class };\nexport let style = '';\nexport let color = undefined;\nexport let nonInteractive = (_a = getContext('SMUI:list:nonInteractive')) !== null && _a !== void 0 ? _a : false;\nsetContext('SMUI:list:nonInteractive', undefined);\nexport let ripple = !nonInteractive;\nexport let wrapper = false;\nexport let activated = false;\nexport let role = wrapper\n    ? 'presentation'\n    : getContext('SMUI:list:item:role');\nsetContext('SMUI:list:item:role', undefined);\nexport let selected = false;\nexport let disabled = false;\nexport let skipRestoreFocus = false;\nlet tabindexProp = uninitializedValue;\nexport { tabindexProp as tabindex };\nexport let inputId = 'SMUI-form-field-list-' + counter++;\nexport let href = undefined;\nlet element;\nlet internalClasses = {};\nlet internalStyles = {};\nlet internalAttrs = {};\nlet input;\nlet addTabindexIfNoItemsSelectedRaf;\nlet nav = getContext('SMUI:list:item:nav');\n$: tabindex = isUninitializedValue(tabindexProp)\n    ? !nonInteractive && !disabled && (selected || (input && input.checked))\n        ? 0\n        : -1\n    : tabindexProp;\nexport let component = SmuiElement;\nexport let tag = (component === SmuiElement\n    ? nav\n        ? href\n            ? 'a'\n            : 'span'\n        : 'li'\n    : undefined);\nsetContext('SMUI:generic:input:props', { id: inputId });\n// Reset separator context, because we aren't directly under a list anymore.\nsetContext('SMUI:separator:context', undefined);\nonMount(() => {\n    // Tabindex needs to be '0' if this is the first non-disabled list item, and\n    // no other item is selected.\n    if (!selected && !nonInteractive) {\n        let first = true;\n        let el = element;\n        while (el.previousSibling) {\n            el = el.previousSibling;\n            if (el.nodeType === 1 &&\n                el.classList.contains('mdc-deprecated-list-item') &&\n                !el.classList.contains('mdc-deprecated-list-item--disabled')) {\n                first = false;\n                break;\n            }\n        }\n        if (first) {\n            // This is first, so now set up a check that no other items are\n            // selected.\n            addTabindexIfNoItemsSelectedRaf = window.requestAnimationFrame(addTabindexIfNoItemsSelected);\n        }\n    }\n    const accessor = {\n        _smui_list_item_accessor: true,\n        get element() {\n            return getElement();\n        },\n        get selected() {\n            return selected;\n        },\n        set selected(value) {\n            selected = value;\n        },\n        hasClass,\n        addClass,\n        removeClass,\n        getAttr,\n        addAttr,\n        removeAttr,\n        getPrimaryText,\n        // For inputs within item.\n        get checked() {\n            var _a;\n            return (_a = (input && input.checked)) !== null && _a !== void 0 ? _a : false;\n        },\n        set checked(value) {\n            if (input) {\n                input.checked = !!value;\n            }\n        },\n        get hasCheckbox() {\n            return !!(input && '_smui_checkbox_accessor' in input);\n        },\n        get hasRadio() {\n            return !!(input && '_smui_radio_accessor' in input);\n        },\n        activateRipple() {\n            if (input) {\n                input.activateRipple();\n            }\n        },\n        deactivateRipple() {\n            if (input) {\n                input.deactivateRipple();\n            }\n        },\n        // For select options.\n        getValue() {\n            return $$restProps.value;\n        },\n        // For autocomplete\n        action,\n        get tabindex() {\n            return tabindex;\n        },\n        set tabindex(value) {\n            tabindexProp = value;\n        },\n        get disabled() {\n            return disabled;\n        },\n        get activated() {\n            return activated;\n        },\n        set activated(value) {\n            activated = value;\n        },\n    };\n    dispatch(getElement(), 'SMUIListItem:mount', accessor);\n    return () => {\n        dispatch(getElement(), 'SMUIListItem:unmount', accessor);\n    };\n});\nonDestroy(() => {\n    if (addTabindexIfNoItemsSelectedRaf) {\n        window.cancelAnimationFrame(addTabindexIfNoItemsSelectedRaf);\n    }\n});\nfunction hasClass(className) {\n    return className in internalClasses\n        ? internalClasses[className]\n        : getElement().classList.contains(className);\n}\nfunction addClass(className) {\n    if (!internalClasses[className]) {\n        internalClasses[className] = true;\n    }\n}\nfunction removeClass(className) {\n    if (!(className in internalClasses) || internalClasses[className]) {\n        internalClasses[className] = false;\n    }\n}\nfunction addStyle(name, value) {\n    if (internalStyles[name] != value) {\n        if (value === '' || value == null) {\n            delete internalStyles[name];\n            internalStyles = internalStyles;\n        }\n        else {\n            internalStyles[name] = value;\n        }\n    }\n}\nfunction getAttr(name) {\n    var _a;\n    return name in internalAttrs\n        ? (_a = internalAttrs[name]) !== null && _a !== void 0 ? _a : null\n        : getElement().getAttribute(name);\n}\nfunction addAttr(name, value) {\n    if (internalAttrs[name] !== value) {\n        internalAttrs[name] = value;\n    }\n}\nfunction removeAttr(name) {\n    if (!(name in internalAttrs) || internalAttrs[name] != null) {\n        internalAttrs[name] = undefined;\n    }\n}\nfunction addTabindexIfNoItemsSelected() {\n    // Look through next siblings to see if none of them are selected.\n    let noneSelected = true;\n    let el = element.getElement();\n    while (el.nextElementSibling) {\n        el = el.nextElementSibling;\n        if (el.nodeType === 1 &&\n            el.classList.contains('mdc-deprecated-list-item')) {\n            const tabindexAttr = el.attributes.getNamedItem('tabindex');\n            if (tabindexAttr && tabindexAttr.value === '0') {\n                noneSelected = false;\n                break;\n            }\n        }\n    }\n    if (noneSelected) {\n        // This is the first element, and no other element is selected, so the\n        // tabindex should be '0'.\n        tabindex = 0;\n    }\n}\nfunction handleKeydown(e) {\n    const isEnter = e.key === 'Enter';\n    const isSpace = e.key === 'Space';\n    if (isEnter || isSpace) {\n        action(e);\n    }\n}\nfunction handleInputMount(e) {\n    if ('_smui_checkbox_accessor' in e.detail ||\n        '_smui_radio_accessor' in e.detail) {\n        input = e.detail;\n    }\n}\nexport function action(e) {\n    if (!disabled) {\n        dispatch(getElement(), 'SMUI:action', e);\n    }\n}\nexport function getPrimaryText() {\n    var _a, _b, _c;\n    const element = getElement();\n    const primaryText = element.querySelector('.mdc-deprecated-list-item__primary-text');\n    if (primaryText) {\n        return (_a = primaryText.textContent) !== null && _a !== void 0 ? _a : '';\n    }\n    const text = element.querySelector('.mdc-deprecated-list-item__text');\n    if (text) {\n        return (_b = text.textContent) !== null && _b !== void 0 ? _b : '';\n    }\n    return (_c = element.textContent) !== null && _c !== void 0 ? _c : '';\n}\nexport function getElement() {\n    return element.getElement();\n}\n</script>\n","<span\n  bind:this={element}\n  use:useActions={use}\n  use:forwardEvents\n  class={classMap({\n    [className]: true,\n    'mdc-deprecated-list-item__graphic': true,\n    'mdc-menu__selection-group-icon': menuSelectionGroup,\n  })}\n  {...$$restProps}><slot /></span\n>\n\n<script>import { getContext } from 'svelte';\nimport { get_current_component } from 'svelte/internal';\nimport { forwardEventsBuilder, classMap, useActions, } from '@smui/common/internal';\nconst forwardEvents = forwardEventsBuilder(get_current_component());\n// Remember to update $$Props if you add/remove/rename props.\nexport let use = [];\nlet className = '';\nexport { className as class };\nlet element;\nlet menuSelectionGroup = getContext('SMUI:list:graphic:menu-selection-group');\nexport function getElement() {\n    return element;\n}\n</script>\n","import { classAdderBuilder } from '@smui/common/classadder';\nimport { Graphic } from '@smui/list';\nexport default classAdderBuilder({\n    class: 'mdc-menu__selection-group-icon',\n    component: Graphic,\n});\n//# sourceMappingURL=SelectionGroupIcon.js.map","<div\n  bind:this={element}\n  use:useActions={use}\n  use:forwardEvents\n  class={classMap({\n    [className]: true,\n    'mdc-select-helper-text': true,\n    'mdc-select-helper-text--validation-msg': validationMsg,\n    'mdc-select-helper-text--validation-msg-persistent': persistent,\n    ...internalClasses,\n  })}\n  aria-hidden={persistent ? undefined : 'true'}\n  {id}\n  {...internalAttrs}\n  {...$$restProps}\n>\n  {#if content == null}<slot />{:else}{content}{/if}\n</div>\n\n<script context=\"module\">\"use strict\";\nlet counter = 0;\n</script>\n\n<script>import { MDCSelectHelperTextFoundation } from '@material/select';\nimport { onMount } from 'svelte';\nimport { get_current_component } from 'svelte/internal';\nimport { forwardEventsBuilder, classMap, useActions, dispatch, } from '@smui/common/internal';\nconst forwardEvents = forwardEventsBuilder(get_current_component());\n// Remember to update $$Props if you add/remove/rename props.\nexport let use = [];\nlet className = '';\nexport { className as class };\nexport let id = 'SMUI-select-helper-text-' + counter++;\nexport let persistent = false;\nexport let validationMsg = false;\nlet element;\nlet instance;\nlet internalClasses = {};\nlet internalAttrs = {};\nlet content = undefined;\nonMount(() => {\n    instance = new MDCSelectHelperTextFoundation({\n        addClass,\n        removeClass,\n        hasClass,\n        getAttr,\n        setAttr: addAttr,\n        removeAttr,\n        setContent: (value) => {\n            content = value;\n        },\n    });\n    if (id.startsWith('SMUI-select-helper-text-')) {\n        dispatch(getElement(), 'SMUISelectHelperText:id', id);\n    }\n    dispatch(getElement(), 'SMUISelectHelperText:mount', instance);\n    instance.init();\n    return () => {\n        dispatch(getElement(), 'SMUISelectHelperText:unmount', instance);\n        instance.destroy();\n    };\n});\nfunction hasClass(className) {\n    return className in internalClasses\n        ? internalClasses[className]\n        : getElement().classList.contains(className);\n}\nfunction addClass(className) {\n    if (!internalClasses[className]) {\n        internalClasses[className] = true;\n    }\n}\nfunction removeClass(className) {\n    if (!(className in internalClasses) || internalClasses[className]) {\n        internalClasses[className] = false;\n    }\n}\nfunction getAttr(name) {\n    var _a;\n    return name in internalAttrs\n        ? (_a = internalAttrs[name]) !== null && _a !== void 0 ? _a : null\n        : getElement().getAttribute(name);\n}\nfunction addAttr(name, value) {\n    if (internalAttrs[name] !== value) {\n        internalAttrs[name] = value;\n    }\n}\nfunction removeAttr(name) {\n    if (!(name in internalAttrs) || internalAttrs[name] != null) {\n        internalAttrs[name] = undefined;\n    }\n}\nexport function getElement() {\n    return element;\n}\n</script>\n","<div\n  bind:this={element}\n  use:Ripple={{\n    ripple: variant === 'filled',\n    unbounded: false,\n    addClass,\n    removeClass,\n    addStyle,\n  }}\n  use:Anchor={{ addClass, removeClass }}\n  use:useActions={use}\n  use:forwardEvents\n  class={classMap({\n    [className]: true,\n    'mdc-select': true,\n    'mdc-select--required': required,\n    'mdc-select--disabled': disabled,\n    'mdc-select--filled': variant === 'filled',\n    'mdc-select--outlined': variant === 'outlined',\n    'smui-select--standard': variant === 'standard',\n    'mdc-select--with-leading-icon': isUninitializedValue(withLeadingIcon)\n      ? $$slots.leadingIcon\n      : withLeadingIcon,\n    'mdc-select--no-label': noLabel || (label == null && !$$slots.label),\n    'mdc-select--invalid': invalid,\n    'mdc-select--activated': menuOpen,\n    'mdc-data-table__pagination-rows-per-page-select':\n      context === 'data-table:pagination',\n    ...internalClasses,\n  })}\n  style={Object.entries(internalStyles)\n    .map(([name, value]) => `${name}: ${value};`)\n    .concat([style])\n    .join(' ')}\n  on:SMUISelectLeadingIcon:mount={(event) => (leadingIcon = event.detail)}\n  on:SMUISelectLeadingIcon:unmount={() => (leadingIcon = undefined)}\n  {...exclude($$restProps, [\n    'input$',\n    'anchor$',\n    'label$',\n    'outline$',\n    'selectedTextContainer$',\n    'selectedText$',\n    'dropdownIcon$',\n    'ripple$',\n    'menu$',\n    'list$',\n    'helperText$',\n  ])}\n>\n  {#if hiddenInput}\n    <input\n      type=\"hidden\"\n      {required}\n      {disabled}\n      {value}\n      {...prefixFilter($$restProps, 'input$')}\n    />\n  {/if}\n  <div\n    bind:this={selectAnchor}\n    use:useActions={anchor$use}\n    class={classMap({\n      [anchor$class]: true,\n      'mdc-select__anchor': true,\n    })}\n    aria-required={required ? 'true' : undefined}\n    aria-disabled={disabled ? 'true' : undefined}\n    aria-controls={helperId}\n    aria-describedby={helperId}\n    on:focus={() => instance && instance.handleFocus()}\n    on:blur={() => instance && instance.handleBlur()}\n    on:click={(event) => {\n      selectAnchor.focus();\n      if (instance) {\n        instance.handleClick(getNormalizedXCoordinate(event));\n      }\n    }}\n    on:keydown={instance && instance.handleKeydown.bind(instance)}\n    on:focus\n    on:blur\n    {...selectAnchorAttrs}\n    {...prefixFilter($$restProps, 'anchor$')}\n  >\n    {#if variant === 'filled'}\n      <span class=\"mdc-select__ripple\" />\n    {/if}\n    {#if variant !== 'outlined' && !noLabel && (label != null || $$slots.label)}\n      <FloatingLabel\n        bind:this={floatingLabel}\n        id={inputId + '-smui-label'}\n        floatAbove={$selectedTextStore !== ''}\n        {required}\n        {...prefixFilter($$restProps, 'label$')}\n        >{label == null ? '' : label}<slot name=\"label\" /></FloatingLabel\n      >\n    {/if}\n    {#if variant === 'outlined'}\n      <NotchedOutline\n        bind:this={notchedOutline}\n        noLabel={noLabel || (label == null && !$$slots.label)}\n        {...prefixFilter($$restProps, 'outline$')}\n      >\n        {#if !noLabel && (label != null || $$slots.label)}\n          <FloatingLabel\n            bind:this={floatingLabel}\n            id={inputId + '-smui-label'}\n            floatAbove={$selectedTextStore !== ''}\n            {required}\n            {...prefixFilter($$restProps, 'label$')}\n            >{label == null ? '' : label}<slot name=\"label\" /></FloatingLabel\n          >\n        {/if}\n      </NotchedOutline>\n    {/if}\n    <slot name=\"leadingIcon\" />\n    <span\n      use:useActions={selectedTextContainer$use}\n      class={classMap({\n        [selectedTextContainer$class]: true,\n        'mdc-select__selected-text-container': true,\n      })}\n      {...prefixFilter($$restProps, 'selectedTextContainer$')}\n    >\n      <span\n        use:useActions={selectedText$use}\n        id={inputId + '-smui-selected-text'}\n        class={classMap({\n          [selectedText$class]: true,\n          'mdc-select__selected-text': true,\n        })}\n        role=\"button\"\n        aria-haspopup=\"listbox\"\n        aria-labelledby={inputId + '-smui-label'}\n        {...prefixFilter($$restProps, 'selectedText$')}\n      >\n        {$selectedTextStore}\n      </span>\n    </span>\n    <span\n      use:useActions={dropdownIcon$use}\n      class={classMap({\n        [dropdownIcon$class]: true,\n        'mdc-select__dropdown-icon': true,\n      })}\n      {...prefixFilter($$restProps, 'dropdownIcon$')}\n    >\n      <svg\n        class=\"mdc-select__dropdown-icon-graphic\"\n        viewBox=\"7 10 10 5\"\n        focusable=\"false\"\n      >\n        <polygon\n          class=\"mdc-select__dropdown-icon-inactive\"\n          stroke=\"none\"\n          fill-rule=\"evenodd\"\n          points=\"7 10 12 15 17 10\"\n        />\n        <polygon\n          class=\"mdc-select__dropdown-icon-active\"\n          stroke=\"none\"\n          fill-rule=\"evenodd\"\n          points=\"7 15 12 10 17 15\"\n        />\n      </svg>\n    </span>\n    {#if variant !== 'outlined' && ripple}\n      <LineRipple\n        bind:this={lineRipple}\n        {...prefixFilter($$restProps, 'ripple$')}\n      />\n    {/if}\n  </div>\n\n  <Menu\n    class={classMap({\n      [menu$class]: true,\n      'mdc-select__menu': true,\n      ...menuClasses,\n    })}\n    fullWidth\n    anchor={false}\n    {anchorElement}\n    {anchorCorner}\n    bind:open={menuOpen}\n    on:SMUIMenu:selected={(event) =>\n      instance && instance.handleMenuItemAction(event.detail.index)}\n    on:SMUIMenuSurface:closing={() => instance && instance.handleMenuClosing()}\n    on:SMUIMenuSurface:closed={() => instance && instance.handleMenuClosed()}\n    on:SMUIMenuSurface:opened={() => instance && instance.handleMenuOpened()}\n    {...prefixFilter($$restProps, 'menu$')}\n  >\n    <List\n      role=\"listbox\"\n      {wrapFocus}\n      bind:selectedIndex\n      on:SMUIList:mount={(event) => (list = event.detail)}\n      {...prefixFilter($$restProps, 'list$')}><slot /></List\n    >\n  </Menu>\n</div>\n{#if $$slots.helperText}\n  <HelperText\n    on:SMUISelectHelperText:id={(event) => (helperId = event.detail)}\n    on:SMUISelectHelperText:mount={(event) => (helperText = event.detail)}\n    on:SMUISelectHelperText:unmount={() => {\n      helperId = undefined;\n      helperText = undefined;\n    }}\n    {...prefixFilter($$restProps, 'helperText$')}\n    ><slot name=\"helperText\" /></HelperText\n  >\n{/if}\n\n<script context=\"module\">\"use strict\";\nlet counter = 0;\n</script>\n\n<script>import { MDCSelectFoundation } from '@material/select';\nimport { onMount, onDestroy, getContext, setContext } from 'svelte';\nimport { writable } from 'svelte/store';\nimport { get_current_component } from 'svelte/internal';\nimport { forwardEventsBuilder, classMap, exclude, prefixFilter, useActions, dispatch, } from '@smui/common/internal';\nimport Ripple from '@smui/ripple';\nimport { Anchor } from '@smui/menu-surface';\nimport Menu from '@smui/menu';\nimport List from '@smui/list';\nimport FloatingLabel from '@smui/floating-label';\nimport LineRipple from '@smui/line-ripple';\nimport NotchedOutline from '@smui/notched-outline';\nimport HelperText from './helper-text/HelperText.svelte';\nconst forwardEvents = forwardEventsBuilder(get_current_component());\nlet uninitializedValue = () => { };\nfunction isUninitializedValue(value) {\n    return value === uninitializedValue;\n}\n// Remember to update $$Props if you add/remove/rename props.\nexport let use = [];\nlet className = '';\nexport { className as class };\nexport let style = '';\nexport let ripple = true;\nexport let disabled = false;\nexport let variant = 'standard';\nexport let noLabel = false;\nexport let label = undefined;\nexport let value = '';\nexport let key = (item) => item;\nexport let dirty = false;\n// Some trickery to detect uninitialized values but also have the right types.\nexport let invalid = uninitializedValue;\nexport let updateInvalid = isUninitializedValue(invalid);\nconst useDefaultValidation = isUninitializedValue(invalid);\nif (isUninitializedValue(invalid)) {\n    invalid = false;\n}\n// Done with the trickery.\nexport let required = false;\nexport let inputId = 'SMUI-select-' + counter++;\nexport let hiddenInput = false;\nexport let withLeadingIcon = uninitializedValue;\nexport let anchor$use = [];\nexport let anchor$class = '';\nexport let selectedTextContainer$use = [];\nexport let selectedTextContainer$class = '';\nexport let selectedText$use = [];\nexport let selectedText$class = '';\nexport let dropdownIcon$use = [];\nexport let dropdownIcon$class = '';\nexport let menu$class = '';\nlet element;\nlet instance;\nlet internalClasses = {};\nlet internalStyles = {};\nlet selectAnchor;\nlet selectAnchorAttrs = {};\nlet selectedIndex = -1;\nlet helperId = undefined;\nlet addLayoutListener = getContext('SMUI:addLayoutListener');\nlet removeLayoutListener;\nlet menuOpen = false;\nlet menuClasses = {};\nlet anchorElement = undefined;\nlet anchorCorner = undefined;\nlet wrapFocus = false;\nlet list;\nlet context = getContext('SMUI:select:context');\n// These are instances, not accessors.\nlet leadingIcon = undefined;\nlet helperText = undefined;\n// Components\nlet floatingLabel = undefined;\nlet lineRipple = undefined;\nlet notchedOutline = undefined;\nsetContext('SMUI:list:role', '');\nsetContext('SMUI:list:nav', false);\n// Only needed on initialization.\nconst selectedTextStore = writable('');\nsetContext('SMUI:select:selectedText', selectedTextStore);\nconst valueStore = writable(value);\n$: $valueStore = value;\nsetContext('SMUI:select:value', valueStore);\n$: if (instance && instance.getValue() !== key(value)) {\n    instance.setValue(key(value));\n}\nlet previousSelectedIndex = selectedIndex;\n$: if (previousSelectedIndex !== selectedIndex) {\n    previousSelectedIndex = selectedIndex;\n    if (instance) {\n        instance.setSelectedIndex(selectedIndex, \n        /* closeMenu */ false, \n        /* skipNotify */ true);\n    }\n    else {\n        const values = getMenuItemValues();\n        if (value !== values[selectedIndex]) {\n            value = values[selectedIndex];\n        }\n    }\n}\n$: if (instance && instance.getDisabled() !== disabled) {\n    instance.setDisabled(disabled);\n}\n$: if (instance && dirty && instance.isValid() !== !invalid) {\n    if (updateInvalid) {\n        invalid = !instance.isValid();\n    }\n    else {\n        instance.setValid(!invalid);\n    }\n}\n$: if (instance && instance.getRequired() !== required) {\n    instance.setRequired(required);\n}\nif (addLayoutListener) {\n    removeLayoutListener = addLayoutListener(layout);\n}\nonMount(() => {\n    instance = new MDCSelectFoundation({\n        // getSelectAdapterMethods\n        // getMenuItemAttr: (menuItem: Element, attr: string) =>\n        //   menuItem.getAttribute(attr),\n        setSelectedText: (text) => {\n            $selectedTextStore = text;\n        },\n        isSelectAnchorFocused: () => document.activeElement === selectAnchor,\n        getSelectAnchorAttr,\n        setSelectAnchorAttr: addSelectAnchorAttr,\n        removeSelectAnchorAttr,\n        addMenuClass,\n        removeMenuClass,\n        openMenu: () => {\n            menuOpen = true;\n        },\n        closeMenu: () => {\n            menuOpen = false;\n        },\n        getAnchorElement: () => selectAnchor,\n        setMenuAnchorElement: (value) => {\n            anchorElement = value;\n        },\n        setMenuAnchorCorner: (value) => {\n            anchorCorner = value;\n        },\n        setMenuWrapFocus: (value) => {\n            wrapFocus = value;\n        },\n        getSelectedIndex: () => selectedIndex,\n        setSelectedIndex: (index) => {\n            // Don't update the instance again.\n            previousSelectedIndex = index;\n            selectedIndex = index;\n            value = getMenuItemValues()[selectedIndex];\n        },\n        focusMenuItemAtIndex: (index) => {\n            list.focusItemAtIndex(index);\n        },\n        getMenuItemCount: () => list.items.length,\n        getMenuItemValues: () => getMenuItemValues().map(key),\n        getMenuItemTextAtIndex: (index) => list.getPrimaryTextAtIndex(index),\n        isTypeaheadInProgress: () => list.typeaheadInProgress,\n        typeaheadMatchItem: (nextChar, startingIndex) => list.typeaheadMatchItem(nextChar, startingIndex),\n        // getCommonAdapterMethods\n        addClass,\n        removeClass,\n        hasClass,\n        setRippleCenter: (normalizedX) => lineRipple && lineRipple.setRippleCenter(normalizedX),\n        activateBottomLine: () => lineRipple && lineRipple.activate(),\n        deactivateBottomLine: () => lineRipple && lineRipple.deactivate(),\n        notifyChange: (_selectedValue) => {\n            dirty = true;\n            if (updateInvalid) {\n                invalid = !instance.isValid();\n            }\n            dispatch(getElement(), 'SMUISelect:change', {\n                value,\n                index: selectedIndex,\n            }, undefined, true);\n        },\n        // getOutlineAdapterMethods\n        hasOutline: () => !!notchedOutline,\n        notchOutline: (labelWidth) => notchedOutline && notchedOutline.notch(labelWidth),\n        closeOutline: () => notchedOutline && notchedOutline.closeNotch(),\n        // getLabelAdapterMethods\n        hasLabel: () => !!floatingLabel,\n        floatLabel: (shouldFloat) => floatingLabel && floatingLabel.float(shouldFloat),\n        getLabelWidth: () => (floatingLabel ? floatingLabel.getWidth() : 0),\n        setLabelRequired: (isRequired) => floatingLabel && floatingLabel.setRequired(isRequired),\n    }, {\n        get helperText() {\n            return helperText;\n        },\n        get leadingIcon() {\n            return leadingIcon;\n        },\n    });\n    selectedIndex = getMenuItemValues().indexOf(value);\n    instance.init();\n    setUseDefaultValidation(useDefaultValidation);\n    return () => {\n        instance.destroy();\n    };\n});\nonDestroy(() => {\n    if (removeLayoutListener) {\n        removeLayoutListener();\n    }\n});\nfunction hasClass(className) {\n    return className in internalClasses\n        ? internalClasses[className]\n        : getElement().classList.contains(className);\n}\nfunction addClass(className) {\n    if (!internalClasses[className]) {\n        internalClasses[className] = true;\n    }\n}\nfunction removeClass(className) {\n    if (!(className in internalClasses) || internalClasses[className]) {\n        internalClasses[className] = false;\n    }\n}\nfunction addStyle(name, value) {\n    if (internalStyles[name] != value) {\n        if (value === '' || value == null) {\n            delete internalStyles[name];\n            internalStyles = internalStyles;\n        }\n        else {\n            internalStyles[name] = value;\n        }\n    }\n}\nfunction addMenuClass(className) {\n    if (!menuClasses[className]) {\n        menuClasses[className] = true;\n    }\n}\nfunction removeMenuClass(className) {\n    if (!(className in menuClasses) || menuClasses[className]) {\n        menuClasses[className] = false;\n    }\n}\nfunction getSelectAnchorAttr(name) {\n    var _a;\n    return name in selectAnchorAttrs\n        ? (_a = selectAnchorAttrs[name]) !== null && _a !== void 0 ? _a : null\n        : getElement().getAttribute(name);\n}\nfunction addSelectAnchorAttr(name, value) {\n    if (selectAnchorAttrs[name] !== value) {\n        selectAnchorAttrs[name] = value;\n    }\n}\nfunction removeSelectAnchorAttr(name) {\n    if (!(name in selectAnchorAttrs) || selectAnchorAttrs[name] != null) {\n        selectAnchorAttrs[name] = undefined;\n    }\n}\nfunction getMenuItemValues() {\n    return list.getOrderedList().map((accessor) => accessor.getValue());\n}\nfunction getNormalizedXCoordinate(evt) {\n    const targetClientRect = evt.currentTarget.getBoundingClientRect();\n    const xCoordinate = isTouchEvent(evt)\n        ? evt.touches[0].clientX\n        : evt.clientX;\n    return xCoordinate - targetClientRect.left;\n}\nfunction isTouchEvent(evt) {\n    return 'touches' in evt;\n}\nexport function getUseDefaultValidation() {\n    return instance.getUseDefaultValidation();\n}\n/**\n * This is set to true automatically if you don't provide a `invalid` prop.\n */\nexport function setUseDefaultValidation(useDefaultValidation) {\n    instance.setUseDefaultValidation(useDefaultValidation);\n}\nexport function focus() {\n    selectAnchor.focus();\n}\nexport function layout() {\n    instance.layout();\n}\nexport function getElement() {\n    return element;\n}\n</script>\n","<Item\n  bind:this={element}\n  use={usePass}\n  data-value={value}\n  {value}\n  {selected}\n  {...$$restProps}><slot /></Item\n>\n\n<script>import { onMount, onDestroy } from 'svelte';\nimport { getContext, setContext } from 'svelte';\nimport { get_current_component } from 'svelte/internal';\nimport { forwardEventsBuilder } from '@smui/common/internal';\nimport { Item } from '@smui/list';\nconst forwardEvents = forwardEventsBuilder(get_current_component());\nexport let use = [];\n$: usePass = [forwardEvents, ...use];\nconst className = '';\nexport { className as class };\nexport let value = '';\nlet element;\nconst selectedText = getContext('SMUI:select:selectedText');\nconst selectedValue = getContext('SMUI:select:value');\nsetContext('SMUI:list:item:role', 'option');\n$: selected = value != null && value !== '' && $selectedValue === value;\nonMount(setSelectedText);\nonDestroy(setSelectedText);\nfunction setSelectedText() {\n    if (selected && element) {\n        $selectedText = element.getPrimaryText();\n    }\n}\nexport function getElement() {\n    return element.getElement();\n}\n</script>\n"],"names":["KEY","normalizedKeys","KEY_CODE","mappedKeyCodes","navigationKeys","normalizeKey","evt","key","mappedKey","cssClasses","strings","numbers","CornerBit","Corner","_a","_b","deprecatedClassNameMap","ELEMENTS_KEY_ALLOWED_IN","preventDefaultEvent","target","tagName","initState","state","initSortedIndex","listItemCount","getPrimaryTextByItemIndex","sortedIndexByFirstChar","primaryText","firstChar","values","first","second","matchItem","opts","nextChar","focusItemAtIndex","focusedItemIndex","skipFocus","isItemAtIndexDisabled","clearBuffer","index","matchFirstChar","matchAllChars","itemsMatchingFirstChar","newIndex","newCursorPosition","cursorPosition","startingItem","nextCursorPosition","currentItem","matches","isEnabled","isTypingInProgress","handleKeydown","event","isTargetListItem","isArrowLeft","isArrowUp","isArrowRight","isArrowDown","isHome","isEnd","isEnter","isSpace","isCharacterKey","matchItemOpts","typeaheadOnListItem","isNumberArray","selectedIndex","handledModifierKeys","createModifierChecker","eventModifiers","m","modifiers","MDCListFoundation","_super","__extends","adapter","_this","__assign","typeahead.initState","value","selectedItemIndex","hasActivatedClass","listItemsCount","i","hasSelectedClass","hasTypeahead","typeahead.isTypingInProgress","useActivated","useSelected","options","listItemIndex","isRootListItem","isForward","isBack","isLetterA","eventHasModifiers","focusedIndex","handleKeydownOpts","typeahead.handleKeydown","currentIndex","isCheckboxAlreadyUpdatedInAdapter","count","nextIndex","firstChecked","prevIndex","initialIndex","itemIndex","selectedClassName","isAriaCurrent","ariaAttribute","ariaAttributeValue","selectionAttribute","currentlySelected","changedIndices","previousIsChecked","newIsChecked","fromIndex","toIndex","toggleIndex","__read","startIndex","endIndex","__spreadArray","targetIndex","minIndex","validateListType","listSize","adapterIsChecked","newCheckedValue","selectedIndexes","currentlySelectedIndexes","isUserInteraction","allIndexes","startingIndex","typeahead.matchItem","typeahead.initSortedIndex","typeahead.clearBuffer","MDCFoundation","MDCMenuSurfaceFoundation","ROOT","OPEN","corner","margin","isHoisted","isFixedPosition","x","y","isCentered","quickOpen","maxHeight","bias","skipRestoreFocus","el","keyCode","isEscape","maxMenuSurfaceHeight","verticalAlignment","horizontalAlignment","horizontalOffset","verticalOffset","anchorSize","surfaceSize","position","anchorRect","bodySize","viewportSize","windowScroll","viewportDistance","MARGIN_TO_EDGE","isAnchoredToBottom","availableTop","availableBottom","isAvailableBottom","isRtl","isFlipRtl","hasRightBit","isAnchoredToRight","availableLeft","availableRight","isAvailableLeft","isAvailableRight","isOriginCornerAlignedToEnd","isBottomAligned","isBottomAnchored","isRightAligned","avoidHorizontalOverlap","rightOffset","avoidVerticalOverlap","e_1","props","props_1","__values","props_1_1","prop","e_1_1","isRootFocused","ownerDocument","childHasFocus","bit","num","DefaultFocusState","MDCMenuFoundation","isTab","listItem","recomputedIndex","focusState","prevSelectedIndex","listCssClasses","menuSize","isIndexInRange","MDCSelectFoundation","foundationMap","closeMenu","skipNotify","menuItemValues","isDisabled","content","optionHasValue","isFocused","shouldFloatAndNotch","isRequired","focusItemIndex","normalizedX","arrowUp","arrowDown","isModifier","typeaheadNextIndex","openNotch","labelScale","labelWidth","label","useDefaultValidation","isValid","anchorEl","helperTextVisible","helperTextId","MDCSelectHelperTextFoundation","isValidation","isPersistent","selectIsValid","isValidationMsg","isPersistentValidationMsg","msgShouldDisplay","classMap","ctx","div_style_value","func","insert_hydration","div","anchor","is_function","current","dirty","name","_c","forwardEvents","forwardEventsBuilder","get_current_component","use","$$props","className","style","isStatic","fixed","open","managed","fullWidth","anchorElement","anchorCorner","anchorMargin","horizontallyCenteredOnViewport","openBottomBias","element","instance","internalClasses","internalStyles","previousFocus","setContext","iCorner","onMount","$$invalidate","addClass","removeClass","hasClass","dispatch","origin","height","closeProgrammatic","onDestroy","getElement","handleBodyClick","isOpen","setOpen","setAbsolutePosition","setIsHoisted","isFixed","$$value","Anchor","node","closest","ponyfill","menuSurfaceAccessor","listAccessor","attr","accessor","evtData","orderedList","selectionGroupEl","selectedItemEl","item","handleMenuSurfaceAccessor","handleListAccessor","setDefaultFocusState","getSelectedIndex","getMenuSurface","SMUIList_action_handler","usePass","nonInteractive","dense","textualList","avatarList","iconList","imageList","thumbnailList","videoList","twoLine","threeLine","vertical","wrapFocus","getContext","singleSelection","disabledItemsFocusable","radioList","checkList","items","role","nav","itemAccessorMap","selectionDialog","addLayoutListener","removeLayoutListener","component","SmuiElement","tag","layout","addClassForElementIndex","getOrderedList","getPrimaryTextAtIndex","listItemAtIndexHasClass","removeClassForElementIndex","setAttributeForElementIndex","isChecked","tabIndexValue","selector","removeAttributeForElementIndex","getAttributeFromElementIndex","handleItemMount","getListItemIndex","handleItemUnmount","idx","handleFocusin","handleFocusout","handleClick","handleAction","nearestParent","setEnabled","getTypeaheadInProgress","getFocusedItemIndex","span","create_if_block","Ripple","get_spread_object","counter","uninitializedValue","isUninitializedValue","color","ripple","wrapper","activated","selected","disabled","tabindexProp","inputId","href","internalAttrs","input","addTabindexIfNoItemsSelectedRaf","addTabindexIfNoItemsSelected","getAttr","addAttr","removeAttr","getPrimaryText","$$restProps","action","tabindex","addStyle","noneSelected","tabindexAttr","e","handleInputMount","text","SMUIGenericInput_unmount_handler","menuSelectionGroup","classAdderBuilder","Graphic","div_aria_hidden_value","id","persistent","validationMsg","prefixFilter","t_value","set_data","t","if_block","create_if_block_3","create_if_block_6","if_block1","create_if_block_5","create_if_block_4","if_block3","create_if_block_2","span0_id_value","span0_aria_labelledby_value","create_if_block_1","div1_style_value","exclude","if_block5","div1","append_hydration","div0","span1","span0","span2","svg","polygon0","polygon1","getNormalizedXCoordinate","targetClientRect","isTouchEvent","variant","noLabel","invalid","updateInvalid","required","hiddenInput","withLeadingIcon","anchor$use","anchor$class","selectedTextContainer$use","selectedTextContainer$class","selectedText$use","selectedText$class","dropdownIcon$use","dropdownIcon$class","menu$class","selectAnchor","selectAnchorAttrs","helperId","menuOpen","menuClasses","list","context","leadingIcon","helperText","floatingLabel","lineRipple","notchedOutline","selectedTextStore","writable","valueStore","previousSelectedIndex","set_store_value","$selectedTextStore","getSelectAnchorAttr","addSelectAnchorAttr","removeSelectAnchorAttr","addMenuClass","removeMenuClass","getMenuItemValues","_selectedValue","shouldFloat","setUseDefaultValidation","getUseDefaultValidation","focus","SMUIList_mount_handler","SMUISelectLeadingIcon_mount_handler","SMUISelectLeadingIcon_unmount_handler","SMUISelectHelperText_id_handler","SMUISelectHelperText_mount_handler","$valueStore","selectedText","selectedValue","setSelectedText","$selectedText","$selectedValue"],"mappings":"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"}